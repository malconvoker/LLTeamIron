{
	"name": "ePlayer",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "eSkills"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 336957687309188
				}
			],
			"actions": [
				{
					"id": "preload",
					"objectClass": "Audio",
					"sid": 305523526213822,
					"parameters": {
						"audio-file": "walk_sound_test"
					}
				},
				{
					"id": "preload",
					"objectClass": "Audio",
					"sid": 147182821890653,
					"parameters": {
						"audio-file": "hit_test"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 849938859415803,
					"parameters": {
						"object-to-create": "PlayerMoveTile",
						"layer": "\"Objects\"",
						"x": "-100",
						"y": "-100"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 216213465297283,
					"parameters": {
						"object-to-create": "Cursor",
						"layer": "\"Objects\"",
						"x": "-100",
						"y": "-100"
					}
				},
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 583237461790130,
					"parameters": {
						"object-to-create": "PlayerMask",
						"layer": "\"Objects\"",
						"x": "-100",
						"y": "-100"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "PlayerBase",
					"sid": 998843610258445,
					"parameters": {
						"instance-variable": "TurnDone",
						"value": "false"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "PlayerBase",
					"sid": 447132823822802,
					"parameters": {
						"instance-variable": "TurnInProgress",
						"value": "false"
					}
				}
			],
			"sid": 175238041369042
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player Turn",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Is player's turn"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 440857832862314,
							"parameters": {
								"variable": "Turn",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 667678923110119,
					"children": [
						{
							"eventType": "comment",
							"text": "Set TurnInProgress to do actions that need to be done only once per turn"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "PlayerBase",
									"sid": 164547734970871,
									"parameters": {
										"instance-variable": "TurnInProgress"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "PlayerBase",
									"sid": 815960842733409,
									"parameters": {
										"instance-variable": "TurnInProgress",
										"value": "true"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "PlayerBase",
									"sid": 687490870655178,
									"parameters": {
										"instance-variable": "TurnDone",
										"value": "false"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 774548469282264,
									"parameters": {
										"variable": "TurnsTaken",
										"value": "1"
									}
								}
							],
							"sid": 759170145855192,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "PlayerBase",
											"sid": 768766564856693,
											"parameters": {
												"instance-variable": "temphp",
												"comparison": 4,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "PlayerBase",
											"sid": 576733146353037,
											"disabled": true,
											"parameters": {
												"instance-variable": "DamageTaken",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Temp hp decay"
										}
									],
									"sid": 581445899409586,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "PlayerBase",
													"sid": 981360756175534,
													"parameters": {
														"instance-variable": "temphpdecay"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "PlayerBase",
													"sid": 667077793689199,
													"parameters": {
														"instance-variable": "temphp",
														"value": "1"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "Skill_Shield",
													"sid": 461680603292176,
													"parameters": {
														"animation": "\"flash\"",
														"from": "beginning"
													}
												}
											],
											"sid": 139606307066774
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 653006277502294
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "PlayerBase",
													"sid": 474094958809199,
													"parameters": {
														"instance-variable": "temphpdecay",
														"value": "true"
													}
												}
											],
											"sid": 458991318233015
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "PlayerBase",
											"sid": 526675728722684,
											"parameters": {
												"instance-variable": "DamageTaken",
												"value": "0"
											}
										}
									],
									"sid": 848910954051532
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "PlayerBase",
											"sid": 842078442194840,
											"parameters": {
												"instance-variable": "tempmp",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Temp mp decay"
										}
									],
									"sid": 991546898255847,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "PlayerBase",
													"sid": 528104234221472,
													"parameters": {
														"instance-variable": "tempmpdecay"
													}
												}
											],
											"actions": [
												{
													"id": "subtract-from-instvar",
													"objectClass": "PlayerBase",
													"sid": 906535132186307,
													"parameters": {
														"instance-variable": "tempmp",
														"value": "1"
													}
												}
											],
											"sid": 729497857173680
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 973214286933315
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "PlayerBase",
													"sid": 967869690543523,
													"parameters": {
														"instance-variable": "tempmpdecay",
														"value": "true"
													}
												}
											],
											"sid": 161170167379061
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "subtract-from-instvar",
											"objectClass": "Skill_EarthPillar",
											"sid": 416661196850508,
											"parameters": {
												"instance-variable": "hp",
												"value": "1"
											}
										}
									],
									"sid": 762414859561809
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "PlayerBase",
									"sid": 331631153791176,
									"parameters": {
										"instance-variable": "TurnInProgress"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "PlayerBase",
									"sid": 685055611155778,
									"parameters": {
										"instance-variable": "TurnDone"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 260510118165632,
							"children": [
								{
									"eventType": "group",
									"disabled": false,
									"title": "Start Touch",
									"description": "",
									"isActiveOnStart": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-nth-touch-start",
													"objectClass": "Touch",
													"sid": 239080432860833,
													"parameters": {
														"touch-number": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "Cursor",
													"sid": 114659430412659,
													"parameters": {
														"x": "floor(Touch.X/Tile)*Tile",
														"y": "floor(Touch.Y/Tile)*Tile"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Cursor",
													"sid": 761716967942518,
													"parameters": {
														"instance-variable": "OldPos",
														"value": "Self.X*100+Self.Y"
													}
												},
												{
													"callFunction": "LOStoCursorCheck",
													"sid": 432455681806059
												}
											],
											"sid": 805830792503635,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 616823816205732,
															"parameters": {
																"variable": "TouchMode",
																"comparison": 0,
																"value": "\"default\""
															}
														}
													],
													"actions": [
														{
															"callFunction": "SetMoveTile",
															"sid": 946753826053928
														}
													],
													"sid": 959226671352943
												}
											]
										}
									],
									"sid": 760790309565820
								},
								{
									"eventType": "group",
									"disabled": false,
									"title": "In Touch",
									"description": "",
									"isActiveOnStart": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-nth-touch",
													"objectClass": "Touch",
													"sid": 851131072549514,
													"parameters": {
														"touch-number": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "SkillButtons",
													"sid": 220999798288868,
													"parameters": {
														"instance-variable": "Touched",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "Cursor",
													"sid": 653618668199506,
													"parameters": {
														"instance-variable": "OnEnemy",
														"value": "false"
													}
												}
											],
											"sid": 120921542551169,
											"children": [
												{
													"eventType": "comment",
													"text": "Touch is in game area"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 683192037782726,
															"parameters": {
																"first-value": "Touch.X",
																"comparison": 3,
																"second-value": "GameAreaWidth"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "Cursor",
															"sid": 950901283363261,
															"parameters": {
																"x": "floor(Touch.X/Tile)*Tile",
																"y": "floor(Touch.Y/Tile)*Tile"
															}
														}
													],
													"sid": 583115615379336,
													"children": [
														{
															"eventType": "comment",
															"text": "Cursor has moved"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "Cursor",
																	"sid": 495120362843322,
																	"parameters": {
																		"instance-variable": "OldPos",
																		"comparison": 0,
																		"value": "Self.X*100+Self.Y"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"callFunction": "LOStoCursorCheck",
																	"sid": 922230667688353
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Cursor",
																	"sid": 791660634888704,
																	"parameters": {
																		"instance-variable": "OldPos",
																		"value": "Self.X*100+Self.Y"
																	}
																}
															],
															"sid": 915267383566298
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-overlapping-another-object",
																	"objectClass": "Cursor",
																	"sid": 292971811200669,
																	"parameters": {
																		"object": "EnemyBases"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Cursor",
																	"sid": 428989581014067,
																	"parameters": {
																		"instance-variable": "OnEnemy",
																		"value": "true"
																	}
																}
															],
															"sid": 780860421541631
														},
														{
															"eventType": "comment",
															"text": "If moving"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 240233212156196,
																	"parameters": {
																		"variable": "TouchMode",
																		"comparison": 0,
																		"value": "\"default\""
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "SetMoveTile",
																	"sid": 437292753110245
																}
															],
															"sid": 264719475705780
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 537172355303448
																},
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 299044703086046,
																	"parameters": {
																		"variable": "TouchMode",
																		"comparison": 0,
																		"value": "\"skilltarget\""
																	}
																}
															],
															"actions": [],
															"sid": 477051550368799,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "SkillButtons",
																			"sid": 242728227491275,
																			"parameters": {
																				"instance-variable": "Active"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "SkillButtons",
																			"sid": 568324930971227,
																			"parameters": {
																				"instance-variable": "CurrentSkill",
																				"comparison": 0,
																				"value": "\"knockback\""
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "If Knockback skill is active, set movetile"
																		},
																		{
																			"callFunction": "SetMoveTile",
																			"sid": 892294819443937
																		}
																	],
																	"sid": 763656032877338,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "is-overlapping-another-object",
																					"objectClass": "PlayerMoveTile",
																					"sid": 990816874893155,
																					"parameters": {
																						"object": "EnemyBases"
																					}
																				}
																			],
																			"actions": [
																				{
																					"type": "comment",
																					"text": "Only show movetile if about to attack"
																				},
																				{
																					"id": "set-visible",
																					"objectClass": "PlayerMoveTile",
																					"sid": 897018686905471,
																					"parameters": {
																						"visibility": "visible"
																					}
																				}
																			],
																			"sid": 124203089703240
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 462450232740735
																				}
																			],
																			"actions": [
																				{
																					"id": "set-visible",
																					"objectClass": "PlayerMoveTile",
																					"sid": 884230052349826,
																					"parameters": {
																						"visibility": "invisible"
																					}
																				}
																			],
																			"sid": 248478566304282
																		}
																	]
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 482817380244539
																		}
																	],
																	"actions": [
																		{
																			"id": "set-position",
																			"objectClass": "PlayerMoveTile",
																			"sid": 584666615609287,
																			"parameters": {
																				"x": "-100",
																				"y": "-100"
																			}
																		}
																	],
																	"sid": 610126051988767
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 619645203827842
																}
															],
															"actions": [
																{
																	"id": "set-position",
																	"objectClass": "PlayerMoveTile",
																	"sid": 791061042806786,
																	"parameters": {
																		"x": "-100",
																		"y": "-100"
																	}
																}
															],
															"sid": 482973902997330
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Touch is in UI area"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 830298827300827
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "Cursor",
															"sid": 178092207860809,
															"parameters": {
																"x": "-100",
																"y": "-100"
															}
														},
														{
															"id": "set-position",
															"objectClass": "PlayerMoveTile",
															"sid": 307260368854125,
															"parameters": {
																"x": "-100",
																"y": "-100"
															}
														}
													],
													"sid": 504192938066351,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-touching-object",
																	"objectClass": "Touch",
																	"sid": 483939748722978,
																	"parameters": {
																		"object": "SkillButtons"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "SkillButtons",
																	"sid": 678514742462065,
																	"parameters": {
																		"instance-variable": "Touched",
																		"value": "true"
																	}
																}
															],
															"sid": 902099972361852
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 280017815116222
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "SkillButtons",
													"sid": 782144284207570,
													"parameters": {
														"instance-variable": "Touched",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "Cursor",
													"sid": 487649499257208,
													"parameters": {
														"instance-variable": "OnEnemy",
														"value": "false"
													}
												}
											],
											"sid": 520428069189903
										}
									],
									"sid": 747994634793289
								},
								{
									"eventType": "group",
									"disabled": false,
									"title": "End Touch",
									"description": "",
									"isActiveOnStart": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "on-nth-touch-end",
													"objectClass": "Touch",
													"sid": 129556960722440,
													"parameters": {
														"touch-number": "0"
													}
												}
											],
											"actions": [],
											"sid": 524676918053023,
											"children": [
												{
													"eventType": "comment",
													"text": "Touch is in game area"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 762479699987315,
															"parameters": {
																"first-value": "Touch.X",
																"comparison": 3,
																"second-value": "GameAreaWidth"
															}
														}
													],
													"actions": [],
													"sid": 865398584070591,
													"children": [
														{
															"eventType": "comment",
															"text": "Default touch mode"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 909399361832014,
																	"parameters": {
																		"variable": "TouchMode",
																		"comparison": 0,
																		"value": "\"default\""
																	}
																}
															],
															"actions": [],
															"sid": 576092736552203,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-visible",
																			"objectClass": "PlayerMoveTile",
																			"sid": 188995351185859
																		},
																		{
																			"id": "is-on-screen",
																			"objectClass": "PlayerMoveTile",
																			"sid": 138755329362501
																		}
																	],
																	"actions": [],
																	"sid": 179500936140589,
																	"children": [
																		{
																			"eventType": "comment",
																			"text": "Attack enemy"
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "is-overlapping-another-object",
																					"objectClass": "PlayerMoveTile",
																					"sid": 271994257879337,
																					"parameters": {
																						"object": "EnemyBases"
																					}
																				}
																			],
																			"actions": [
																				{
																					"callFunction": "DamageEnemy",
																					"sid": 448470790374018,
																					"parameters": [
																						"PlayerBase.meleeDmg",
																						"EnemyBases.UID",
																						true
																					]
																				},
																				{
																					"id": "set-animation",
																					"objectClass": "PlayerMask",
																					"sid": 704902987717276,
																					"parameters": {
																						"animation": "\"attack\"",
																						"from": "beginning"
																					}
																				},
																				{
																					"id": "play",
																					"objectClass": "Audio",
																					"sid": 178919259134079,
																					"parameters": {
																						"audio-file": "hit_test",
																						"loop": "not-looping",
																						"volume": "-5",
																						"tag-optional": "\"\""
																					}
																				},
																				{
																					"id": "set-boolean-instvar",
																					"objectClass": "PlayerBase",
																					"sid": 533339946488369,
																					"parameters": {
																						"instance-variable": "TurnDone",
																						"value": "true"
																					}
																				},
																				{
																					"callFunction": "NextTurn",
																					"sid": 330079674118797
																				}
																			],
																			"sid": 262193217553033
																		},
																		{
																			"eventType": "comment",
																			"text": "Pick up skill"
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 844802145832511
																				},
																				{
																					"id": "is-overlapping-another-object",
																					"objectClass": "PlayerMoveTile",
																					"sid": 565735319722151,
																					"parameters": {
																						"object": "SkillPickup"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-eventvar-value",
																					"objectClass": "System",
																					"sid": 131852836503723,
																					"parameters": {
																						"variable": "TouchMode",
																						"value": "\"skillpickup\""
																					}
																				},
																				{
																					"id": "set-position",
																					"objectClass": "Cursor",
																					"sid": 520216045446048,
																					"parameters": {
																						"x": "-100",
																						"y": "-100"
																					}
																				},
																				{
																					"id": "set-boolean-instvar",
																					"objectClass": "SkillPickup",
																					"sid": 810331222724400,
																					"parameters": {
																						"instance-variable": "Selected",
																						"value": "true"
																					}
																				}
																			],
																			"sid": 387201922386026
																		},
																		{
																			"eventType": "comment",
																			"text": "Move"
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 507726490129076
																				}
																			],
																			"actions": [
																				{
																					"id": "set-position",
																					"objectClass": "PlayerBase",
																					"sid": 742664602737763,
																					"parameters": {
																						"x": "PlayerMoveTile.ImagePointX(\"position\")",
																						"y": "PlayerMoveTile.ImagePointY(\"position\")"
																					}
																				},
																				{
																					"id": "set-animation",
																					"objectClass": "PlayerMask",
																					"sid": 710731571107692,
																					"parameters": {
																						"animation": "\"walk\"",
																						"from": "beginning"
																					}
																				},
																				{
																					"id": "play",
																					"objectClass": "Audio",
																					"sid": 763909564786217,
																					"parameters": {
																						"audio-file": "walk_sound_test",
																						"loop": "not-looping",
																						"volume": "0",
																						"tag-optional": "\"\""
																					}
																				},
																				{
																					"id": "set-boolean-instvar",
																					"objectClass": "PlayerBase",
																					"sid": 916500986489867,
																					"parameters": {
																						"instance-variable": "TurnDone",
																						"value": "true"
																					}
																				},
																				{
																					"callFunction": "NextTurn",
																					"sid": 571521768232692
																				},
																				{
																					"id": "set-position",
																					"objectClass": "Cursor",
																					"sid": 378205325483877,
																					"parameters": {
																						"x": "-100",
																						"y": "-100"
																					}
																				}
																			],
																			"sid": 326132709420683
																		}
																	]
																},
																{
																	"eventType": "comment",
																	"text": "Skip Turn"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-overlapping-another-object",
																			"objectClass": "Cursor",
																			"sid": 503761437011948,
																			"parameters": {
																				"object": "PlayerBase"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "PlayerBase",
																			"sid": 632783836124037,
																			"parameters": {
																				"instance-variable": "TurnDone",
																				"value": "true"
																			}
																		},
																		{
																			"callFunction": "NextTurn",
																			"sid": 786615092273758
																		}
																	],
																	"sid": 350159374351792
																}
															]
														},
														{
															"eventType": "comment",
															"text": "Using a skill that requires targeting, e.g. EnergyBall or Move"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 863380228206671
																},
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 105033066636917,
																	"parameters": {
																		"variable": "TouchMode",
																		"comparison": 0,
																		"value": "\"skilltarget\""
																	}
																}
															],
															"actions": [],
															"sid": 852634717221055,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "SkillButtons",
																			"sid": 336636121717168,
																			"parameters": {
																				"instance-variable": "Active"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "Select the active skill button, then check for each skill's case"
																		}
																	],
																	"sid": 417747311026003,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "SkillButtons",
																					"sid": 871273868663213,
																					"parameters": {
																						"instance-variable": "CurrentSkill",
																						"comparison": 0,
																						"value": "\"manablast\""
																					}
																				}
																			],
																			"actions": [],
																			"sid": 255692296224791,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "is-overlapping-another-object",
																							"objectClass": "Cursor",
																							"sid": 994702386503819,
																							"parameters": {
																								"object": "Skill_Target"
																							}
																						}
																					],
																					"actions": [
																						{
																							"type": "comment",
																							"text": "Valid target"
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "PlayerBase",
																							"sid": 115046525749776,
																							"parameters": {
																								"instance-variable": "TurnDone",
																								"value": "true"
																							}
																						},
																						{
																							"callFunction": "ManaBlastUse",
																							"sid": 204942527060330
																						}
																					],
																					"sid": 280384067864813
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "else",
																							"objectClass": "System",
																							"sid": 443430653746626
																						}
																					],
																					"actions": [
																						{
																							"id": "set-eventvar-value",
																							"objectClass": "System",
																							"sid": 695515213722978,
																							"parameters": {
																								"variable": "TouchMode",
																								"value": "\"default\""
																							}
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "SkillButtons",
																							"sid": 816581604119540,
																							"parameters": {
																								"instance-variable": "Active",
																								"value": "false"
																							}
																						}
																					],
																					"sid": 708793897542414
																				}
																			]
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "SkillButtons",
																					"sid": 467957055284858,
																					"parameters": {
																						"instance-variable": "CurrentSkill",
																						"comparison": 0,
																						"value": "\"knightleap\""
																					}
																				}
																			],
																			"actions": [],
																			"sid": 668181384329086,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "is-overlapping-another-object",
																							"objectClass": "Cursor",
																							"sid": 141577313951717,
																							"parameters": {
																								"object": "Skill_KnightLeap"
																							}
																						}
																					],
																					"actions": [
																						{
																							"type": "comment",
																							"text": "Valid target"
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "PlayerBase",
																							"sid": 179596906745029,
																							"parameters": {
																								"instance-variable": "TurnDone",
																								"value": "true"
																							}
																						},
																						{
																							"callFunction": "KnightLeapUse",
																							"sid": 533528282157182
																						}
																					],
																					"sid": 318400203240451
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "else",
																							"objectClass": "System",
																							"sid": 495994515283065
																						}
																					],
																					"actions": [
																						{
																							"id": "set-eventvar-value",
																							"objectClass": "System",
																							"sid": 678177443270304,
																							"parameters": {
																								"variable": "TouchMode",
																								"value": "\"default\""
																							}
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "SkillButtons",
																							"sid": 733979810486422,
																							"parameters": {
																								"instance-variable": "Active",
																								"value": "false"
																							}
																						}
																					],
																					"sid": 623119949672240
																				}
																			]
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "SkillButtons",
																					"sid": 200740329140556,
																					"parameters": {
																						"instance-variable": "CurrentSkill",
																						"comparison": 0,
																						"value": "\"knockback\""
																					}
																				}
																			],
																			"actions": [],
																			"sid": 248047650611049,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "is-overlapping-another-object",
																							"objectClass": "PlayerMoveTile",
																							"sid": 352365646723283,
																							"parameters": {
																								"object": "Skill_Target"
																							}
																						}
																					],
																					"actions": [
																						{
																							"type": "comment",
																							"text": "Valid target"
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "PlayerBase",
																							"sid": 346513701860925,
																							"parameters": {
																								"instance-variable": "TurnDone",
																								"value": "true"
																							}
																						},
																						{
																							"callFunction": "KnockbackUse",
																							"sid": 418106431786297
																						}
																					],
																					"sid": 118048292347205
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "else",
																							"objectClass": "System",
																							"sid": 163052619179059
																						}
																					],
																					"actions": [
																						{
																							"id": "set-eventvar-value",
																							"objectClass": "System",
																							"sid": 654256114292139,
																							"parameters": {
																								"variable": "TouchMode",
																								"value": "\"default\""
																							}
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "SkillButtons",
																							"sid": 275080334581730,
																							"parameters": {
																								"instance-variable": "Active",
																								"value": "false"
																							}
																						}
																					],
																					"sid": 103266345705888
																				}
																			]
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "SkillButtons",
																					"sid": 891848296890027,
																					"parameters": {
																						"instance-variable": "CurrentSkill",
																						"comparison": 0,
																						"value": "\"earthpillar\""
																					}
																				}
																			],
																			"actions": [],
																			"sid": 435192050354369,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "is-overlapping-another-object",
																							"objectClass": "Cursor",
																							"sid": 109706195006236,
																							"parameters": {
																								"object": "Skill_Target"
																							}
																						}
																					],
																					"actions": [
																						{
																							"type": "comment",
																							"text": "Valid target"
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "PlayerBase",
																							"sid": 689175728845698,
																							"parameters": {
																								"instance-variable": "TurnDone",
																								"value": "true"
																							}
																						},
																						{
																							"callFunction": "EarthPillarUse",
																							"sid": 864712299717446
																						}
																					],
																					"sid": 459176250045223
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "else",
																							"objectClass": "System",
																							"sid": 675252892415038
																						}
																					],
																					"actions": [
																						{
																							"id": "set-eventvar-value",
																							"objectClass": "System",
																							"sid": 148519882008349,
																							"parameters": {
																								"variable": "TouchMode",
																								"value": "\"default\""
																							}
																						},
																						{
																							"id": "set-boolean-instvar",
																							"objectClass": "SkillButtons",
																							"sid": 543127477349812,
																							"parameters": {
																								"instance-variable": "Active",
																								"value": "false"
																							}
																						}
																					],
																					"sid": 850571083620341
																				}
																			]
																		}
																	]
																}
															]
														},
														{
															"eventType": "comment",
															"text": "In the process of picking up a skill"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 634766819585340
																},
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 270663113557278,
																	"parameters": {
																		"variable": "TouchMode",
																		"comparison": 0,
																		"value": "\"skillpickup\""
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 582806669767479,
																	"parameters": {
																		"variable": "TouchMode",
																		"value": "\"default\""
																	}
																}
															],
															"sid": 864576986630756
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-position",
																	"objectClass": "Cursor",
																	"sid": 856772089662346,
																	"parameters": {
																		"x": "-100",
																		"y": "-100"
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "PlayerMoveTile",
																	"sid": 902874567302309,
																	"parameters": {
																		"x": "-100",
																		"y": "-100"
																	}
																},
																{
																	"id": "destroy",
																	"objectClass": "DebugNode",
																	"sid": 724484268508320,
																	"disabled": true
																}
															],
															"sid": 158871812771851
														}
													]
												},
												{
													"eventType": "comment",
													"text": "Touch is in UI area"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 794579456423980
														}
													],
													"actions": [],
													"sid": 101846208537431,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-eventvar",
																	"objectClass": "System",
																	"sid": 821743822291526,
																	"parameters": {
																		"variable": "TouchMode",
																		"comparison": 0,
																		"value": "\"skillpickup\""
																	}
																}
															],
															"actions": [],
															"sid": 324144479446046,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "SkillPickup",
																			"sid": 665728266929785,
																			"parameters": {
																				"instance-variable": "Selected"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 466802321518529,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "is-boolean-instance-variable-set",
																					"objectClass": "UI_SkillButton",
																					"sid": 422968222560860,
																					"parameters": {
																						"instance-variable": "Touched"
																					}
																				}
																			],
																			"actions": [
																				{
																					"callFunction": "ChangeSkill",
																					"sid": 943254672991929,
																					"parameters": [
																						"UI_SkillButton.SkillSlot",
																						"SkillPickup.CurrentSkill"
																					]
																				}
																			],
																			"sid": 989255126748101
																		}
																	]
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 643662079258446
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 245825170552199,
																	"parameters": {
																		"variable": "TouchMode",
																		"value": "\"default\""
																	}
																}
															],
															"sid": 791611495073492,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "UI_SkillButton",
																			"sid": 464971258900279,
																			"parameters": {
																				"instance-variable": "Touched"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "toggle-boolean-instvar",
																			"objectClass": "UI_SkillButton",
																			"sid": 178412737290525,
																			"parameters": {
																				"instance-variable": "Active"
																			}
																		}
																	],
																	"sid": 282293503452886,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "compare-instance-variable",
																					"objectClass": "SkillButtons",
																					"sid": 372931152404630,
																					"parameters": {
																						"instance-variable": "SkillSlot",
																						"comparison": 1,
																						"value": "UI_SkillButton.SkillSlot"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-boolean-instvar",
																					"objectClass": "SkillButtons",
																					"sid": 241189063787236,
																					"parameters": {
																						"instance-variable": "Active",
																						"value": "false"
																					}
																				}
																			],
																			"sid": 986986746854450
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "is-boolean-instance-variable-set",
																					"objectClass": "UI_SkillButton",
																					"sid": 832996299844619,
																					"parameters": {
																						"instance-variable": "Active"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "call-mapped-function",
																					"objectClass": "Functions",
																					"sid": 519688341108379,
																					"parameters": {
																						"name": "\"skill\"",
																						"string": "UI_SkillButton.CurrentSkill",
																						"forward-params": "0"
																					}
																				}
																			],
																			"sid": 719345697552400
																		}
																	]
																}
															]
														}
													]
												}
											]
										}
									],
									"sid": 704631886599057
								}
							]
						}
					]
				}
			],
			"sid": 592591885348526
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "PlayerAnimations",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Player graphics"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 227542974189476,
							"parameters": {
								"animation": "\"walk\""
							}
						},
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 404923176755624,
							"parameters": {
								"animation": "\"attack\""
							}
						},
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 667629603062867,
							"parameters": {
								"animation": "\"damaged\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 513522369390186,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						}
					],
					"sid": 816232499435330,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 990755946410430
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "PlayerMask",
							"sid": 154182986093967,
							"parameters": {
								"x": "PlayerBase.ImagePointX(\"center\")",
								"y": "PlayerBase.ImagePointY(\"center\")"
							}
						}
					],
					"sid": 801828686365838
				},
				{
					"eventType": "comment",
					"text": "MoveTile graphics, only apply in default touchmode to allow melee skill behaviour to work independently"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 535722488190936,
							"parameters": {
								"variable": "TouchMode",
								"comparison": 0,
								"value": "\"default\""
							}
						}
					],
					"actions": [],
					"sid": 796489036111937,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "PlayerMoveTile",
									"sid": 558792809919201,
									"parameters": {
										"object": "Collisions"
									},
									"isInverted": true
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "PlayerMoveTile",
									"sid": 640481700947711,
									"parameters": {
										"object": "NPCBases"
									},
									"isInverted": true
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Cursor",
									"sid": 726213525845959,
									"parameters": {
										"object": "PlayerBase"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "PlayerMoveTile",
									"sid": 357104242332925,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 912910883116905,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "PlayerMoveTile",
											"sid": 281613452826100,
											"parameters": {
												"object": "EnemyBases"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerMoveTile",
											"sid": 828463584213349,
											"parameters": {
												"animation": "\"melee\"",
												"from": "current-frame"
											}
										}
									],
									"sid": 718986746894049
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 815296144051981
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "PlayerMoveTile",
											"sid": 121825302250888,
											"parameters": {
												"animation": "\"direction\"",
												"from": "current-frame"
											}
										}
									],
									"sid": 430243615548195
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 817112501955034
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "PlayerMoveTile",
									"sid": 686256528722611,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 882264503199807
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Cursor graphics"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "Cursor",
							"sid": 861681182980939,
							"parameters": {
								"instance-variable": "HasLOS"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Cursor",
							"sid": 658656491866966,
							"parameters": {
								"animation": "\"default\"",
								"from": "beginning"
							}
						}
					],
					"sid": 746982358538957,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Cursor",
									"sid": 385152013307789,
									"parameters": {
										"instance-variable": "OnEnemy"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Cursor",
									"sid": 690748623989374,
									"parameters": {
										"animation": "\"target\"",
										"from": "beginning"
									}
								}
							],
							"sid": 555071845709301
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 982833329767661
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "Cursor",
							"sid": 215832875475004,
							"disabled": true,
							"parameters": {
								"color": "rgb(150, 150, 150)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Cursor",
							"sid": 561322898851519,
							"parameters": {
								"animation": "\"dark\"",
								"from": "beginning"
							}
						}
					],
					"sid": 184008943238373
				}
			],
			"sid": 915992584022235
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "SkillPickup",
					"sid": 920320813461569,
					"parameters": {
						"object": "PlayerBase"
					}
				}
			],
			"actions": [
				{
					"callFunction": "ChangeSkill",
					"sid": 327238161005174,
					"parameters": [
						"choose(1,2,3,4)",
						"SkillPickup.CurrentSkill"
					]
				},
				{
					"id": "destroy",
					"objectClass": "SkillPickup",
					"sid": 175305521144329
				}
			],
			"sid": 384727023851407
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-overlapping-another-object",
					"objectClass": "Crystals",
					"sid": 369109324653244,
					"parameters": {
						"object": "PlayerBase"
					}
				}
			],
			"actions": [
				{
					"id": "add-to-instvar",
					"objectClass": "PlayerBase",
					"sid": 805942476190437,
					"parameters": {
						"instance-variable": "money",
						"value": "Crystals.AnimationFrame"
					}
				},
				{
					"id": "destroy",
					"objectClass": "Crystals",
					"sid": 334407329598133
				}
			],
			"sid": 661727986745783
		}
	],
	"sid": 674070928567353
}