{
	"name": "eEnemies",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "eGlobal"
		},
		{
			"eventType": "comment",
			"text": "Not really necessary currently, but can later be used to refer to the value since it's always correct"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 734351490050275
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 568290012313718,
					"parameters": {
						"variable": "EnemiesActive",
						"value": "0"
					}
				}
			],
			"sid": 955628143124214,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-ordered",
							"objectClass": "System",
							"sid": 391559421575701,
							"parameters": {
								"object": "EnemyBases",
								"expression": "EnemyBases.UID",
								"order": "ascending"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 689867381729714,
							"parameters": {
								"variable": "EnemiesActive",
								"value": "1"
							}
						}
					],
					"sid": 389400577231928,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "EnemyBases",
									"sid": 185799838013319,
									"parameters": {
										"instance-variable": "ActTime",
										"comparison": 0,
										"value": "-1"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "EnemyBases",
									"sid": 251640414943137,
									"parameters": {
										"instance-variable": "ActTime",
										"value": "floor(random(Self.ActThMove+1))"
									}
								}
							],
							"sid": 285632634774135
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 790877186226922,
							"parameters": {
								"object": "E_SkeletonBase"
							}
						}
					],
					"actions": [],
					"sid": 520009655061948,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 567109466668101,
									"parameters": {
										"first-value": "Functions.LOScheck(E_SkeletonBase.X, E_SkeletonBase.Y, PlayerBase.X, PlayerBase.Y)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "E_SkeletonBase",
									"sid": 449245027015717,
									"parameters": {
										"instance-variable": "PlayerSeenX",
										"value": "PlayerBase.X"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "E_SkeletonBase",
									"sid": 622562012478862,
									"parameters": {
										"instance-variable": "PlayerSeenY",
										"value": "PlayerBase.Y"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SkeletonBase",
									"sid": 724485622153056,
									"parameters": {
										"instance-variable": "Active",
										"value": "true"
									}
								}
							],
							"sid": 673281192210716,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "E_SkeletonBase",
											"sid": 654738344640569,
											"parameters": {
												"instance-variable": "SeesPlayer"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "E_SkeletonBase",
											"sid": 482143973115408,
											"parameters": {
												"instance-variable": "SeesPlayer",
												"value": "true"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "E_SkeletonMask",
											"sid": 116966510227515,
											"parameters": {
												"object": "indicator",
												"layer": "\"Effects\"",
												"image-point": "\"indicator\""
											}
										}
									],
									"sid": 190006602758371
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 359200335148238,
							"parameters": {
								"object": "E_GhostBase"
							}
						}
					],
					"actions": [],
					"sid": 316999360401030,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 961126815013945,
									"parameters": {
										"first-value": "Functions.LOScheck(E_GhostBase.X, E_GhostBase.Y, PlayerBase.X, PlayerBase.Y)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_GhostBase",
									"sid": 553595421767216,
									"parameters": {
										"instance-variable": "Active",
										"value": "true"
									}
								}
							],
							"sid": 626387048459663,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "E_GhostBase",
											"sid": 602483061968428,
											"parameters": {
												"instance-variable": "SeesPlayer"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "E_GhostBase",
											"sid": 981031252931904,
											"parameters": {
												"instance-variable": "SeesPlayer",
												"value": "true"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "E_GhostMask",
											"sid": 779188848612352,
											"parameters": {
												"object": "indicator",
												"layer": "\"Effects\"",
												"image-point": "\"indicator\""
											}
										}
									],
									"sid": 562520497224720
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "Enemies die when they are killed!"
		},
		{
			"eventType": "comment",
			"text": "Enemies with death animations are dealt in their own groups"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "E_SlimeBase",
					"sid": 708717966901853,
					"parameters": {
						"instance-variable": "hp",
						"comparison": 3,
						"value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "E_SlimeBase",
					"sid": 933245831346579
				},
				{
					"id": "subtract-from-eventvar",
					"objectClass": "System",
					"sid": 132735769642052,
					"parameters": {
						"variable": "EnemiesActive",
						"value": "1"
					}
				},
				{
					"id": "add-to-eventvar",
					"objectClass": "System",
					"sid": 131145607005409,
					"parameters": {
						"variable": "EnemiesKilled",
						"value": "1"
					}
				}
			],
			"sid": 400870524533194
		},
		{
			"eventType": "comment",
			"text": "Set TurnOrder for each enemy when enemy turn starts, set TurnDone to false, count enemies"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 903798626621785,
					"parameters": {
						"variable": "Turn",
						"comparison": 4,
						"value": "0"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "PlayerBase",
					"sid": 708284531329698,
					"parameters": {
						"instance-variable": "TurnInProgress"
					}
				},
				{
					"id": "trigger-once-while-true",
					"objectClass": "System",
					"sid": 782186825483463,
					"disabled": true
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "PlayerBase",
					"sid": 974800576428490,
					"parameters": {
						"instance-variable": "TurnInProgress",
						"value": "false"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 593782356482421,
					"parameters": {
						"variable": "EnemiesActive",
						"value": "0"
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "EnemyBases",
					"sid": 432092018186971,
					"parameters": {
						"instance-variable": "TurnDone",
						"value": "false"
					}
				}
			],
			"sid": 195021534221079,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-ordered",
							"objectClass": "System",
							"sid": 567597621080746,
							"parameters": {
								"object": "EnemyBases",
								"expression": "EnemyBases.UID",
								"order": "ascending"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 714855008339743,
							"parameters": {
								"variable": "EnemiesActive",
								"value": "1"
							}
						}
					],
					"sid": 513400900043809
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-ordered",
							"objectClass": "System",
							"sid": 141300025884687,
							"parameters": {
								"object": "EnemyBases",
								"expression": "EnemyBases.UID",
								"order": "ascending"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "EnemyBases",
							"sid": 116412242566498,
							"parameters": {
								"instance-variable": "TurnOrder",
								"value": "1+loopindex"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "EnemyBases",
							"sid": 191326082179811,
							"parameters": {
								"instance-variable": "LastInTurn",
								"value": "false"
							}
						}
					],
					"sid": 727571662341356,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "EnemyBases",
									"sid": 513790822806837,
									"parameters": {
										"instance-variable": "TurnOrder",
										"comparison": 0,
										"value": "EnemiesActive"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "EnemyBases",
									"sid": 172941444930981,
									"parameters": {
										"instance-variable": "LastInTurn",
										"value": "true"
									}
								}
							],
							"sid": 184416213014842
						}
					]
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 409477642183373,
					"parameters": {
						"variable": "EnemiesActive",
						"comparison": 0,
						"value": "0"
					}
				},
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 147317152701857,
					"parameters": {
						"variable": "Turn",
						"comparison": 4,
						"value": "0"
					}
				},
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 134223911776095,
					"parameters": {
						"first-value": "Turn % 1",
						"comparison": 0,
						"second-value": "0"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 124792801770287,
					"parameters": {
						"variable": "Turn",
						"value": "0"
					}
				}
			],
			"sid": 753423046417661
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Enemy_Slime",
			"description": "Enemy that moves towards player every other turn\nDamages player instead if adjacent",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "SlimeTurn",
					"description": "Things that happen when the Slime's turn starts",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "E_SlimeBase",
									"sid": 615055274710329,
									"parameters": {
										"instance-variable": "TurnOrder",
										"comparison": 0,
										"value": "Turn"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "E_SlimeBase",
									"sid": 354569346394201,
									"parameters": {
										"instance-variable": "TurnDone"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "E_SlimeBase",
									"sid": 962849827497483,
									"parameters": {
										"instance-variable": "TurnInProgress"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SlimeBase",
									"sid": 742389596804121,
									"parameters": {
										"instance-variable": "TurnInProgress",
										"value": "true"
									}
								}
							],
							"sid": 564710669534876,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 268599547882734,
											"parameters": {
												"first-value": "Functions.PlayerDistance(E_SlimeBase.X, E_SlimeBase.Y)",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Is in melee range to Player"
										}
									],
									"sid": 250690186236738,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "E_SlimeBase",
													"sid": 625166184192171,
													"parameters": {
														"instance-variable": "ActTime",
														"comparison": 5,
														"value": "Self.ActThAttack"
													}
												}
											],
											"actions": [
												{
													"callFunction": "DamagePlayer",
													"sid": 857632624449363,
													"parameters": [
														"E_SlimeBase.meleeDmg"
													]
												},
												{
													"id": "play",
													"objectClass": "Audio",
													"sid": 749478105818583,
													"parameters": {
														"audio-file": "hit_test",
														"loop": "not-looping",
														"volume": "-5",
														"tag-optional": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "E_SlimeBase",
													"sid": 230166625316069,
													"parameters": {
														"instance-variable": "ActTime",
														"value": "0"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SkeletonBase",
													"sid": 106374394499579,
													"parameters": {
														"instance-variable": "SkipPause",
														"value": "false"
													}
												}
											],
											"sid": 606417639869103
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 976477600382286
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "E_SlimeBase",
													"sid": 498234639277936,
													"parameters": {
														"instance-variable": "ActTime",
														"value": "1"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SlimeBase",
													"sid": 514703724529722,
													"parameters": {
														"instance-variable": "SkipPause",
														"value": "true"
													}
												}
											],
											"sid": 956736628149543
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SlimeBase",
													"sid": 297564239044699,
													"parameters": {
														"instance-variable": "TurnDone",
														"value": "true"
													}
												}
											],
											"sid": 584157038857635
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 635421710070476
										}
									],
									"actions": [],
									"sid": 737734269829519,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "E_SlimeBase",
													"sid": 513806803917560,
													"parameters": {
														"instance-variable": "ActTime",
														"comparison": 5,
														"value": "Self.ActThMove"
													}
												}
											],
											"actions": [
												{
													"id": "find-path",
													"objectClass": "E_SlimeBase",
													"sid": 911044357092282,
													"behaviorType": "Pathfinding",
													"parameters": {
														"x": "PlayerBase.X",
														"y": "PlayerBase.Y"
													}
												}
											],
											"sid": 472159504105272
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 454805145388620
												}
											],
											"actions": [
												{
													"id": "add-to-instvar",
													"objectClass": "E_SlimeBase",
													"sid": 113925413127184,
													"parameters": {
														"instance-variable": "ActTime",
														"value": "1"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SlimeBase",
													"sid": 306849243255946,
													"parameters": {
														"instance-variable": "SkipPause",
														"value": "true"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SlimeBase",
													"sid": 360815054086380,
													"parameters": {
														"instance-variable": "TurnDone",
														"value": "true"
													}
												}
											],
											"sid": 256289329791639
										}
									]
								}
							]
						}
					],
					"sid": 750316867055936
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "SlimeAnimations",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Set animation"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "E_SlimeBase",
									"sid": 747454115911143,
									"parameters": {
										"instance-variable": "ActTime",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-speed",
									"objectClass": "E_SlimeMask",
									"sid": 471347170160002,
									"parameters": {
										"speed": "2"
									}
								}
							],
							"sid": 788985014002266
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "E_SlimeBase",
									"sid": 295409777752168,
									"parameters": {
										"instance-variable": "ActTime",
										"comparison": 5,
										"value": "Self.ActThMove"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation-speed",
									"objectClass": "E_SlimeMask",
									"sid": 608488547876006,
									"parameters": {
										"speed": "6"
									}
								}
							],
							"sid": 885722234474425,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "E_SlimeBase",
									"sid": 921790968285042,
									"parameters": {
										"instance-variable": "ActTime",
										"comparison": 5,
										"value": "Self.ActThAttack"
									}
								},
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 562610841610577,
									"parameters": {
										"object": "E_SlimeBase"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 473509837220082,
									"parameters": {
										"first-value": "Functions.PlayerDistance(E_SlimeBase.X, E_SlimeBase.Y)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Use if Attack and Move treshholds are different, left here on purpose for future enemy types"
								},
								{
									"id": "set-animation-speed",
									"objectClass": "E_SlimeMask",
									"sid": 619136140271290,
									"parameters": {
										"speed": "6"
									}
								}
							],
							"sid": 601262195074717,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": "Highlight when about to be attacked"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "E_SlimeBase",
									"sid": 761304903419855,
									"parameters": {
										"object": "PlayerMoveTile"
									}
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "E_SlimeMask",
									"sid": 334790572631086,
									"parameters": {
										"color": "rgb(255, 150, 50)"
									}
								}
							],
							"sid": 100499240225442,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 512102250508701
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "E_SlimeMask",
									"sid": 766600725234281,
									"parameters": {
										"color": "rgb(255, 255, 255)"
									}
								}
							],
							"sid": 312091255203963
						}
					],
					"sid": 219246728364829
				},
				{
					"eventType": "comment",
					"text": "Pathfinding"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-path-found",
							"objectClass": "E_SlimeBase",
							"sid": 167597774226570,
							"behaviorType": "Pathfinding"
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Set EnemyMoveTile angle towards next pathfinding node"
						},
						{
							"id": "set-animation-frame",
							"objectClass": "E_SlimeMoveTile",
							"sid": 416645682839582,
							"parameters": {
								"frame-number": "Functions.GetAngle45(\nE_SlimeBase.ImagePointX(\"center\"),\nE_SlimeBase.ImagePointY(\"center\"),\nE_SlimeBase.Pathfinding.NodeXAt(0),\nE_SlimeBase.Pathfinding.NodeYAt(0))/45"
							}
						},
						{
							"id": "set-position",
							"objectClass": "E_SlimeBase",
							"sid": 447325104546983,
							"parameters": {
								"x": "E_SlimeMoveTile.ImagePointX(\"position\")",
								"y": "E_SlimeMoveTile.ImagePointY(\"position\")"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "E_SlimeBase",
							"sid": 241286528464425,
							"parameters": {
								"instance-variable": "ActTime",
								"value": "0"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_SlimeBase",
							"sid": 554249521512142,
							"parameters": {
								"instance-variable": "SkipPause",
								"value": "false"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_SlimeBase",
							"sid": 753894633622323,
							"parameters": {
								"instance-variable": "TurnDone",
								"value": "true"
							}
						}
					],
					"sid": 938906593675881
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-failed-to-find-path",
							"objectClass": "E_SlimeBase",
							"sid": 878919735446293,
							"behaviorType": "Pathfinding"
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_SlimeBase",
							"sid": 325269480632844,
							"parameters": {
								"instance-variable": "SkipPause",
								"value": "true"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_SlimeBase",
							"sid": 728382779736987,
							"parameters": {
								"instance-variable": "TurnDone",
								"value": "true"
							}
						}
					],
					"sid": 869584907554807
				}
			],
			"sid": 376696151413526
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "E_Skeleton",
			"description": "Enemy that moves towards player every turn, but only if sees player\nMoves to last location it saw player in if loses sight\nDamages player instead if adjacent",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "SkeletonTurn",
					"description": "Things that happen when the Skeleton's turn starts",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "E_SkeletonBase",
									"sid": 438106670741021,
									"parameters": {
										"instance-variable": "TurnOrder",
										"comparison": 0,
										"value": "Turn"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "E_SkeletonBase",
									"sid": 957733999314488,
									"parameters": {
										"instance-variable": "TurnDone"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "E_SkeletonBase",
									"sid": 279830027928524,
									"parameters": {
										"instance-variable": "TurnInProgress"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SkeletonBase",
									"sid": 451178038140425,
									"parameters": {
										"instance-variable": "TurnInProgress",
										"value": "true"
									}
								}
							],
							"sid": 664868806846571,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "E_SkeletonBase",
											"sid": 662435412940426,
											"parameters": {
												"instance-variable": "hp",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 699849284174986,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 976445009361162,
													"parameters": {
														"first-value": "Functions.PlayerDistance(E_SkeletonBase.X, E_SkeletonBase.Y)",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Is in melee range to Player"
												}
											],
											"sid": 833109437119954,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "E_SkeletonBase",
															"sid": 984539397782682,
															"parameters": {
																"instance-variable": "SeesPlayer"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 165844348333428,
															"parameters": {
																"instance-variable": "SeesPlayer",
																"value": "true"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "E_SkeletonMask",
															"sid": 254422836249898,
															"parameters": {
																"object": "indicator",
																"layer": "\"Effects\"",
																"image-point": "\"indicator\""
															}
														}
													],
													"sid": 378140572373005
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "E_SkeletonBase",
															"sid": 109902250938627,
															"parameters": {
																"instance-variable": "Active"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "E_SkeletonBase",
															"sid": 777144338479004,
															"parameters": {
																"instance-variable": "PlayerSeenX",
																"value": "PlayerBase.X"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "E_SkeletonBase",
															"sid": 809565870444728,
															"parameters": {
																"instance-variable": "PlayerSeenY",
																"value": "PlayerBase.Y"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 556254137481139,
															"parameters": {
																"instance-variable": "Active",
																"value": "true"
															}
														}
													],
													"sid": 450811644835077
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "E_SkeletonBase",
															"sid": 487568080426050,
															"parameters": {
																"instance-variable": "ActTime",
																"comparison": 5,
																"value": "Self.ActThAttack"
															}
														}
													],
													"actions": [
														{
															"callFunction": "DamagePlayer",
															"sid": 268311963157585,
															"parameters": [
																"E_SkeletonBase.meleeDmg"
															]
														},
														{
															"id": "set-animation",
															"objectClass": "E_SkeletonMask",
															"sid": 436834755216645,
															"parameters": {
																"animation": "\"attack\"",
																"from": "beginning"
															}
														},
														{
															"id": "play",
															"objectClass": "Audio",
															"sid": 121544981541959,
															"parameters": {
																"audio-file": "hit_test",
																"loop": "not-looping",
																"volume": "-5",
																"tag-optional": "\"\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "E_SkeletonBase",
															"sid": 275637455507693,
															"parameters": {
																"instance-variable": "ActTime",
																"value": "0"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 865430843535846,
															"parameters": {
																"instance-variable": "SkipPause",
																"value": "false"
															}
														}
													],
													"sid": 845608502043298
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 742746205945572
														}
													],
													"actions": [
														{
															"id": "add-to-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 411886385323535,
															"parameters": {
																"instance-variable": "ActTime",
																"value": "1"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 454848872483817,
															"parameters": {
																"instance-variable": "SkipPause",
																"value": "true"
															}
														}
													],
													"sid": 313112918101669
												},
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 519786869766702,
															"parameters": {
																"instance-variable": "TurnDone",
																"value": "true"
															}
														}
													],
													"sid": 994474949949763
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 592072307656711
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Is not in melee range to Player"
												}
											],
											"sid": 370579732212979,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 470439414986099,
															"parameters": {
																"first-value": "Functions.LOScheck(E_SkeletonBase.X, E_SkeletonBase.Y, PlayerBase.X, PlayerBase.Y)",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Sees Player"
														},
														{
															"id": "set-instvar-value",
															"objectClass": "E_SkeletonBase",
															"sid": 410392539672130,
															"parameters": {
																"instance-variable": "PlayerSeenX",
																"value": "PlayerBase.X"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "E_SkeletonBase",
															"sid": 895519949957040,
															"parameters": {
																"instance-variable": "PlayerSeenY",
																"value": "PlayerBase.Y"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 879539179595651,
															"parameters": {
																"instance-variable": "Active",
																"value": "true"
															}
														}
													],
													"sid": 973403737625851,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "E_SkeletonBase",
																	"sid": 467852435762460,
																	"parameters": {
																		"instance-variable": "SeesPlayer"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 258310657386939,
																	"parameters": {
																		"instance-variable": "SeesPlayer",
																		"value": "true"
																	}
																},
																{
																	"id": "spawn-another-object",
																	"objectClass": "E_SkeletonMask",
																	"sid": 908414601377321,
																	"parameters": {
																		"object": "indicator",
																		"layer": "\"Effects\"",
																		"image-point": "\"indicator\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "E_SkeletonBase",
																	"sid": 714445408451710,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "-1"
																	}
																}
															],
															"sid": 668342678062421
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "E_SkeletonBase",
																	"sid": 630107591008890,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"comparison": 5,
																		"value": "Self.ActThMove"
																	}
																}
															],
															"actions": [
																{
																	"id": "find-path",
																	"objectClass": "E_SkeletonBase",
																	"sid": 881684529467944,
																	"behaviorType": "Pathfinding",
																	"parameters": {
																		"x": "PlayerBase.X",
																		"y": "PlayerBase.Y"
																	}
																}
															],
															"sid": 587095059764347
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 447400842797467
																}
															],
															"actions": [
																{
																	"id": "add-to-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 854313968301724,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "1"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 635098482972736,
																	"parameters": {
																		"instance-variable": "SkipPause",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 365489789948309,
																	"parameters": {
																		"instance-variable": "TurnDone",
																		"value": "true"
																	}
																}
															],
															"sid": 233282371369636
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 791432398789448
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "E_SkeletonBase",
															"sid": 262270842731675,
															"parameters": {
																"instance-variable": "Active"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Does not see Player, but is still chasing"
														}
													],
													"sid": 912261860245802,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "E_SkeletonBase",
																	"sid": 304355269355222,
																	"parameters": {
																		"instance-variable": "SeesPlayer"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 713970548067949,
																	"parameters": {
																		"instance-variable": "SeesPlayer",
																		"value": "false"
																	}
																},
																{
																	"id": "spawn-another-object",
																	"objectClass": "E_SkeletonMask",
																	"sid": 308437403703023,
																	"parameters": {
																		"object": "indicator",
																		"layer": "\"Effects\"",
																		"image-point": "\"indicator\""
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "indicator",
																	"sid": 798640553583835,
																	"parameters": {
																		"animation": "\"question\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "E_SkeletonBase",
																	"sid": 620833504676674,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "-1"
																	}
																}
															],
															"sid": 210740004941341
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "E_SkeletonBase",
																	"sid": 389574573990522,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"comparison": 5,
																		"value": "Self.ActThMove"
																	}
																}
															],
															"actions": [],
															"sid": 672906722802930,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "E_SkeletonBase",
																			"sid": 599040647695424,
																			"parameters": {
																				"instance-variable": "PlayerSeenX",
																				"comparison": 0,
																				"value": "Self.X"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "E_SkeletonBase",
																			"sid": 651561313575922,
																			"parameters": {
																				"instance-variable": "PlayerSeenY",
																				"comparison": 0,
																				"value": "Self.Y"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "E_SkeletonBase",
																			"sid": 871772807367413,
																			"parameters": {
																				"instance-variable": "PlayerSeenX",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "E_SkeletonBase",
																			"sid": 655917982487970,
																			"parameters": {
																				"instance-variable": "PlayerSeenY",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "E_SkeletonBase",
																			"sid": 515420900997449,
																			"parameters": {
																				"instance-variable": "Active",
																				"value": "false"
																			}
																		},
																		{
																			"id": "spawn-another-object",
																			"objectClass": "E_SkeletonMask",
																			"sid": 130055585687514,
																			"parameters": {
																				"object": "indicator",
																				"layer": "\"Effects\"",
																				"image-point": "\"indicator\""
																			}
																		},
																		{
																			"id": "set-animation",
																			"objectClass": "indicator",
																			"sid": 549760934132305,
																			"parameters": {
																				"animation": "\"question\"",
																				"from": "beginning"
																			}
																		},
																		{
																			"id": "add-to-instvar",
																			"objectClass": "E_SkeletonBase",
																			"sid": 753460933930617,
																			"parameters": {
																				"instance-variable": "ActTime",
																				"value": "1"
																			}
																		},
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "E_SkeletonBase",
																			"sid": 259733814957043,
																			"parameters": {
																				"instance-variable": "SkipPause",
																				"value": "true"
																			}
																		},
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "E_SkeletonBase",
																			"sid": 440565939223823,
																			"parameters": {
																				"instance-variable": "TurnDone",
																				"value": "true"
																			}
																		}
																	],
																	"sid": 788380164370313
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 832748709390425
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "E_SkeletonBase",
																			"sid": 470229096243712,
																			"parameters": {
																				"instance-variable": "PlayerSeenX",
																				"comparison": 4,
																				"value": "0"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "E_SkeletonBase",
																			"sid": 125047095451016,
																			"parameters": {
																				"instance-variable": "PlayerSeenY",
																				"comparison": 4,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "find-path",
																			"objectClass": "E_SkeletonBase",
																			"sid": 754262169575833,
																			"behaviorType": "Pathfinding",
																			"parameters": {
																				"x": "Self.PlayerSeenX",
																				"y": "Self.PlayerSeenY"
																			}
																		}
																	],
																	"sid": 245497773136826
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 394794796686703
																}
															],
															"actions": [
																{
																	"id": "add-to-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 214973489122221,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "1"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 383467810111335,
																	"parameters": {
																		"instance-variable": "SkipPause",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_SkeletonBase",
																	"sid": 814591374791882,
																	"parameters": {
																		"instance-variable": "TurnDone",
																		"value": "true"
																	}
																}
															],
															"sid": 384388120854227
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 544251898714710
														}
													],
													"actions": [
														{
															"id": "add-to-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 892516245536665,
															"parameters": {
																"instance-variable": "ActTime",
																"value": "1"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 378175606371367,
															"parameters": {
																"instance-variable": "SkipPause",
																"value": "true"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_SkeletonBase",
															"sid": 120471071293052,
															"parameters": {
																"instance-variable": "TurnDone",
																"value": "true"
															}
														}
													],
													"sid": 339112326420010
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 632410103835214
										}
									],
									"actions": [],
									"sid": 634504633605085
								}
							]
						}
					],
					"sid": 131517445650906
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "SkeletonAnimations",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Set animation"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "E_SkeletonMask",
									"sid": 921927602453756,
									"parameters": {
										"animation": "\"damaged\""
									},
									"isInverted": true
								},
								{
									"id": "is-animation-playing",
									"objectClass": "E_SkeletonMask",
									"sid": 175534676441301,
									"parameters": {
										"animation": "\"death\""
									},
									"isInverted": true
								},
								{
									"id": "is-animation-playing",
									"objectClass": "E_SkeletonMask",
									"sid": 898823415832380,
									"parameters": {
										"animation": "\"attack\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "damaged and death set in EnemyDamaged function"
								},
								{
									"type": "comment",
									"text": "attack set in SkeletonTurn"
								}
							],
							"sid": 911323358699132,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "E_SkeletonBase",
											"sid": 946716127516899,
											"parameters": {
												"instance-variable": "Active"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "E_SkeletonMask",
											"sid": 970226166247935,
											"parameters": {
												"animation": "\"active\"",
												"from": "current-frame"
											}
										}
									],
									"sid": 180712309106401,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 204643831684620
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "E_SkeletonMask",
											"sid": 613283251241150,
											"parameters": {
												"animation": "\"idle\"",
												"from": "current-frame"
											}
										}
									],
									"sid": 529901719416361
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Action animations"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "E_SkeletonMask",
									"sid": 572316357372631,
									"parameters": {
										"animation": "\"attack\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "E_SkeletonMask",
									"sid": 540297589020859,
									"parameters": {
										"animation": "\"damaged\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "E_SkeletonMask",
									"sid": 642130865097372,
									"parameters": {
										"animation": "\"idle\"",
										"from": "beginning"
									}
								}
							],
							"sid": 175121277735005,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "E_SkeletonMask",
									"sid": 620207611622470,
									"parameters": {
										"animation": "\"death\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "E_SkeletonBase",
									"sid": 420399291741144
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 207366276875517,
									"parameters": {
										"variable": "EnemiesActive",
										"value": "1"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 261894697067452,
									"parameters": {
										"variable": "EnemiesKilled",
										"value": "1"
									}
								}
							],
							"sid": 317548893909243,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "E_SkeletonBase",
											"sid": 541302198732455,
											"parameters": {
												"instance-variable": "TurnOrder",
												"comparison": 0,
												"value": "Turn"
											}
										}
									],
									"actions": [
										{
											"callFunction": "NextTurn",
											"sid": 654664411787072
										}
									],
									"sid": 171317532848749
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Highlight when about to be attacked"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "E_SkeletonBase",
									"sid": 748067746268713,
									"parameters": {
										"object": "PlayerMoveTile"
									}
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "E_SkeletonMask",
									"sid": 679540115617837,
									"parameters": {
										"color": "rgb(255, 150, 50)"
									}
								}
							],
							"sid": 232880375679530
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 212570768458620
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "E_SkeletonMask",
									"sid": 250316283672608,
									"parameters": {
										"color": "rgb(255, 255, 255)"
									}
								}
							],
							"sid": 287698474043315
						}
					],
					"sid": 894808330935516
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "SkeletonPathfinding",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Pathfinding"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-path-found",
									"objectClass": "E_SkeletonBase",
									"sid": 745257297894338,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Set EnemyMoveTile angle towards next pathfinding node"
								},
								{
									"id": "set-animation-frame",
									"objectClass": "E_SkeletonMoveTile",
									"sid": 538965731029691,
									"parameters": {
										"frame-number": "Functions.GetAngle45(\nE_SkeletonBase.ImagePointX(\"center\"),\nE_SkeletonBase.ImagePointY(\"center\"),\nE_SkeletonBase.Pathfinding.NodeXAt(0),\nE_SkeletonBase.Pathfinding.NodeYAt(0))/45"
									}
								},
								{
									"id": "set-position",
									"objectClass": "E_SkeletonBase",
									"sid": 316174738422025,
									"parameters": {
										"x": "E_SkeletonMoveTile.ImagePointX(\"position\")",
										"y": "E_SkeletonMoveTile.ImagePointY(\"position\")"
									}
								},
								{
									"id": "set-position",
									"objectClass": "E_SkeletonMask",
									"sid": 954984386141154,
									"parameters": {
										"x": "E_SkeletonBase.ImagePointX(\"center\")",
										"y": "E_SkeletonBase.ImagePointY(\"center\")"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "E_SkeletonBase",
									"sid": 261501830777608,
									"parameters": {
										"instance-variable": "ActTime",
										"value": "0"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SkeletonBase",
									"sid": 168842099920072,
									"parameters": {
										"instance-variable": "SkipPause",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SkeletonBase",
									"sid": 370731116464187,
									"parameters": {
										"instance-variable": "TurnDone",
										"value": "true"
									}
								}
							],
							"sid": 490762886451056,
							"children": [
								{
									"eventType": "comment",
									"text": "Recheck if sees player"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 385735199127915,
											"parameters": {
												"first-value": "Functions.LOScheck(E_SkeletonBase.X, E_SkeletonBase.Y, PlayerBase.X, PlayerBase.Y)",
												"comparison": 0,
												"second-value": "1"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Sees Player"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "E_SkeletonBase",
											"sid": 782705689019569,
											"parameters": {
												"instance-variable": "PlayerSeenX",
												"value": "PlayerBase.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "E_SkeletonBase",
											"sid": 314379833614894,
											"parameters": {
												"instance-variable": "PlayerSeenY",
												"value": "PlayerBase.Y"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "E_SkeletonBase",
											"sid": 392019625087967,
											"parameters": {
												"instance-variable": "Active",
												"value": "true"
											}
										}
									],
									"sid": 385329213491865,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "E_SkeletonBase",
													"sid": 725077558201797,
													"parameters": {
														"instance-variable": "SeesPlayer"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SkeletonBase",
													"sid": 196214564262123,
													"parameters": {
														"instance-variable": "SeesPlayer",
														"value": "true"
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "E_SkeletonMask",
													"sid": 762591906988925,
													"parameters": {
														"object": "indicator",
														"layer": "\"Effects\"",
														"image-point": "\"indicator\""
													}
												}
											],
											"sid": 293158511600535
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 616433222715046
										}
									],
									"actions": [],
									"sid": 372527065139363,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "E_SkeletonBase",
													"sid": 691906905991486,
													"parameters": {
														"instance-variable": "SeesPlayer"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "E_SkeletonBase",
													"sid": 873921374816514,
													"parameters": {
														"instance-variable": "SeesPlayer",
														"value": "false"
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "E_SkeletonMask",
													"sid": 225893802697997,
													"parameters": {
														"object": "indicator",
														"layer": "\"Effects\"",
														"image-point": "\"indicator\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "indicator",
													"sid": 861430557161561,
													"parameters": {
														"animation": "\"question\"",
														"from": "beginning"
													}
												}
											],
											"sid": 762684053661016
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-failed-to-find-path",
									"objectClass": "E_SkeletonBase",
									"sid": 788066066472035,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SkeletonBase",
									"sid": 472412664321417,
									"parameters": {
										"instance-variable": "SkipPause",
										"value": "true"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_SkeletonBase",
									"sid": 792624368201340,
									"parameters": {
										"instance-variable": "TurnDone",
										"value": "true"
									}
								}
							],
							"sid": 962994922606972
						}
					],
					"sid": 373144888157089
				}
			],
			"sid": 607163387206709
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "E_Ghost",
			"description": "Enemy that moves towards player every other turn\nResets action timer upon sighting or losing sight of player\nShoots at player from range if in sight instead\nHits in melee if in melee instead",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "GhostTurn",
					"description": "Things that happen when the Ghost's turn starts",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Execute turn"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "E_GhostBase",
									"sid": 759784282257400,
									"parameters": {
										"instance-variable": "TurnOrder",
										"comparison": 0,
										"value": "Turn"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "E_GhostBase",
									"sid": 861883423028318,
									"parameters": {
										"instance-variable": "TurnDone"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "E_GhostBase",
									"sid": 688332983006651,
									"parameters": {
										"instance-variable": "TurnInProgress"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_GhostBase",
									"sid": 924436156469800,
									"parameters": {
										"instance-variable": "TurnInProgress",
										"value": "true"
									}
								}
							],
							"sid": 819561320319902,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "E_GhostBase",
											"sid": 955429538993870,
											"parameters": {
												"instance-variable": "hp",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 138606946278239,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 106253844385784,
													"parameters": {
														"first-value": "Functions.LOScheck(E_GhostBase.X, E_GhostBase.Y, PlayerBase.X, PlayerBase.Y)",
														"comparison": 0,
														"second-value": "1"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Sees Player"
												}
											],
											"sid": 416142863546371,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "E_GhostBase",
															"sid": 772216865024534,
															"parameters": {
																"instance-variable": "SeesPlayer"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Sees player, starts readying attack"
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_GhostBase",
															"sid": 910466780726086,
															"parameters": {
																"instance-variable": "SeesPlayer",
																"value": "true"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "E_GhostMask",
															"sid": 411686675238135,
															"parameters": {
																"object": "indicator",
																"layer": "\"Effects\"",
																"image-point": "\"indicator\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "E_GhostBase",
															"sid": 183558877478933,
															"parameters": {
																"instance-variable": "ActTime",
																"value": "0"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_GhostBase",
															"sid": 259141687897814,
															"parameters": {
																"instance-variable": "SkipPause",
																"value": "false"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_GhostBase",
															"sid": 761836963820602,
															"parameters": {
																"instance-variable": "TurnDone",
																"value": "true"
															}
														}
													],
													"sid": 411499035622290
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 153245308220344
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Does not see Player"
												}
											],
											"sid": 133202898659227,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "E_GhostBase",
															"sid": 869273719728476,
															"parameters": {
																"instance-variable": "SeesPlayer"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Loses sight of player, starts readying movement"
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_GhostBase",
															"sid": 360453465075449,
															"parameters": {
																"instance-variable": "SeesPlayer",
																"value": "false"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "E_GhostMask",
															"sid": 258067705274164,
															"parameters": {
																"object": "indicator",
																"layer": "\"Effects\"",
																"image-point": "\"indicator\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "indicator",
															"sid": 987129797932180,
															"parameters": {
																"animation": "\"question\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "E_GhostBase",
															"sid": 793045018379357,
															"parameters": {
																"instance-variable": "ActTime",
																"value": "0"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_GhostBase",
															"sid": 890462884236987,
															"parameters": {
																"instance-variable": "SkipPause",
																"value": "false"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "E_GhostBase",
															"sid": 575609032760648,
															"parameters": {
																"instance-variable": "TurnDone",
																"value": "true"
															}
														}
													],
													"sid": 710713156453787
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "E_GhostBase",
													"sid": 215085951898002,
													"parameters": {
														"instance-variable": "TurnDone"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "If SeesPlayer state hasn't changed, do actions"
												}
											],
											"sid": 985996061727886,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 295551704268633,
															"parameters": {
																"first-value": "Functions.PlayerDistance(E_GhostBase.X, E_GhostBase.Y)",
																"comparison": 0,
																"second-value": "1"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Is in melee range to Player"
														}
													],
													"sid": 627360597740438,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "E_GhostBase",
																	"sid": 960769034027850,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"comparison": 5,
																		"value": "Self.ActThAttack"
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "DamagePlayer",
																	"sid": 895922106097174,
																	"parameters": [
																		"E_GhostBase.meleeDmg"
																	]
																},
																{
																	"id": "play",
																	"objectClass": "Audio",
																	"sid": 279656179342884,
																	"parameters": {
																		"audio-file": "hit_test",
																		"loop": "not-looping",
																		"volume": "-5",
																		"tag-optional": "\"\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "E_GhostBase",
																	"sid": 351035240843775,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "0"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 536441923506966,
																	"parameters": {
																		"instance-variable": "SkipPause",
																		"value": "false"
																	}
																}
															],
															"sid": 148093678899348
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 798029541684432
																}
															],
															"actions": [
																{
																	"id": "add-to-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 852960547996159,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "1"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 857465956009465,
																	"parameters": {
																		"instance-variable": "SkipPause",
																		"value": "true"
																	}
																}
															],
															"sid": 593789327922019
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 909020463955361,
																	"parameters": {
																		"instance-variable": "TurnDone",
																		"value": "true"
																	}
																}
															],
															"sid": 465078960362908
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 603353392538939
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "E_GhostBase",
															"sid": 334201462737159,
															"parameters": {
																"instance-variable": "SeesPlayer"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Is not in melee"
														},
														{
															"type": "comment",
															"text": "Sees Player"
														}
													],
													"sid": 146714765449145,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "E_GhostBase",
																	"sid": 721900156608007,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"comparison": 5,
																		"value": "Self.ActThAttack"
																	}
																}
															],
															"actions": [
																{
																	"id": "spawn-another-object",
																	"objectClass": "E_GhostMask",
																	"sid": 552618780416046,
																	"parameters": {
																		"object": "e_GhostProjectile",
																		"layer": "\"Effects\"",
																		"image-point": "\"projectile\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "e_GhostProjectile",
																	"sid": 262582457360620,
																	"parameters": {
																		"instance-variable": "rangedDmg",
																		"value": "E_GhostBase.rangedDmg"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "e_GhostProjectile",
																	"sid": 619706566293441,
																	"parameters": {
																		"instance-variable": "BaseUID",
																		"value": "E_GhostBase.UID"
																	}
																},
																{
																	"id": "set-angle-of-motion",
																	"objectClass": "e_GhostProjectile",
																	"sid": 684910696764224,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"angle": "angle(E_GhostBase.X, E_GhostBase.Y, PlayerBase.X, PlayerBase.Y)"
																	}
																},
																{
																	"id": "spawn-another-object",
																	"objectClass": "E_GhostMask",
																	"sid": 431252647964575,
																	"parameters": {
																		"object": "E_GhostParticle",
																		"layer": "\"Effects\"",
																		"image-point": "\"projectile\""
																	}
																}
															],
															"sid": 766909522279214
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 928156831943494
																}
															],
															"actions": [
																{
																	"id": "add-to-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 830996125363099,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "1"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 371998991041344,
																	"parameters": {
																		"instance-variable": "SkipPause",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 618822780157444,
																	"parameters": {
																		"instance-variable": "TurnDone",
																		"value": "true"
																	}
																}
															],
															"sid": 648119078999924
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [],
															"sid": 571517599631083
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 708697493524973
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Does not see Player"
														}
													],
													"sid": 892196857776151,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "E_GhostBase",
																	"sid": 612546929936987,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"comparison": 5,
																		"value": "Self.ActThMove"
																	}
																}
															],
															"actions": [
																{
																	"id": "find-path",
																	"objectClass": "E_GhostBase",
																	"sid": 364210622006962,
																	"behaviorType": "Pathfinding",
																	"parameters": {
																		"x": "PlayerBase.X",
																		"y": "PlayerBase.Y"
																	}
																}
															],
															"sid": 971467183518367
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 572752392671139
																}
															],
															"actions": [
																{
																	"id": "add-to-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 510296651590888,
																	"parameters": {
																		"instance-variable": "ActTime",
																		"value": "1"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 888990434446018,
																	"parameters": {
																		"instance-variable": "SkipPause",
																		"value": "true"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "E_GhostBase",
																	"sid": 217600487552438,
																	"parameters": {
																		"instance-variable": "TurnDone",
																		"value": "true"
																	}
																}
															],
															"sid": 324050947372126
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 276376354470946
										}
									],
									"actions": [],
									"sid": 903890287539797
								}
							]
						}
					],
					"sid": 958367608461094
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "GhostAnimations",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "comment",
							"text": "Set animation"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "E_GhostMask",
									"sid": 565018084490947,
									"parameters": {
										"animation": "\"damaged\""
									},
									"isInverted": true
								},
								{
									"id": "is-animation-playing",
									"objectClass": "E_GhostMask",
									"sid": 786664777478098,
									"parameters": {
										"animation": "\"death\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "damaged and death set in EnemyDamaged function"
								}
							],
							"sid": 506124437030549,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "E_GhostBase",
											"sid": 818102648514456,
											"parameters": {
												"instance-variable": "SeesPlayer"
											}
										}
									],
									"actions": [],
									"sid": 529218850284966,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "E_GhostBase",
													"sid": 173536395773368,
													"parameters": {
														"instance-variable": "ActTime",
														"comparison": 5,
														"value": "Self.ActThAttack"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "E_GhostMask",
													"sid": 374831978741313,
													"parameters": {
														"animation": "\"shooting\"",
														"from": "current-frame"
													}
												}
											],
											"sid": 873527218363740
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 710328417040380
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "E_GhostMask",
													"sid": 253336588303874,
													"parameters": {
														"animation": "\"seesplayer\"",
														"from": "current-frame"
													}
												}
											],
											"sid": 487821633199154
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 573034336003755
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "E_GhostMask",
											"sid": 103906246217636,
											"parameters": {
												"animation": "\"idle\"",
												"from": "current-frame"
											}
										}
									],
									"sid": 994223291180551,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "E_GhostBase",
													"sid": 427898868382272,
													"parameters": {
														"instance-variable": "ActTime",
														"comparison": 3,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "E_GhostMask",
													"sid": 926069541655105,
													"parameters": {
														"speed": "2"
													}
												}
											],
											"sid": 480687729912306
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "E_GhostBase",
													"sid": 154125580298162,
													"parameters": {
														"instance-variable": "ActTime",
														"comparison": 5,
														"value": "Self.ActThMove"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "E_GhostMask",
													"sid": 932104934131111,
													"parameters": {
														"speed": "6"
													}
												}
											],
											"sid": 371311814899070,
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Action animations"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "E_GhostMask",
									"sid": 273807495018813,
									"parameters": {
										"animation": "\"damaged\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "E_GhostMask",
									"sid": 727357858031354,
									"parameters": {
										"animation": "\"idle\"",
										"from": "beginning"
									}
								}
							],
							"sid": 910605163826044
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "E_GhostMask",
									"sid": 922886917538048,
									"parameters": {
										"animation": "\"death\""
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "E_GhostBase",
									"sid": 338820093444367
								},
								{
									"id": "subtract-from-eventvar",
									"objectClass": "System",
									"sid": 140394593945405,
									"parameters": {
										"variable": "EnemiesActive",
										"value": "1"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 664950973340952,
									"parameters": {
										"variable": "EnemiesKilled",
										"value": "1"
									}
								}
							],
							"sid": 262621292033403,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "E_GhostBase",
											"sid": 493929905115855,
											"parameters": {
												"instance-variable": "TurnOrder",
												"comparison": 0,
												"value": "Turn"
											}
										}
									],
									"actions": [
										{
											"callFunction": "NextTurn",
											"sid": 404276541715037
										}
									],
									"sid": 628724799590094
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Highlight when about to be attacked"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "E_GhostBase",
									"sid": 632186540033711,
									"parameters": {
										"object": "PlayerMoveTile"
									}
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "E_GhostMask",
									"sid": 633103400822047,
									"parameters": {
										"color": "rgb(255, 150, 50)"
									}
								}
							],
							"sid": 291107848735533,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 254268908539520
								}
							],
							"actions": [
								{
									"id": "set-default-color",
									"objectClass": "E_GhostMask",
									"sid": 131446541538119,
									"parameters": {
										"color": "rgb(255, 255, 255)"
									}
								}
							],
							"sid": 472524891155111
						}
					],
					"sid": 483514468251956
				},
				{
					"eventType": "comment",
					"text": "Projectile"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "e_GhostProjectile",
							"sid": 385709193684006,
							"parameters": {
								"object": "PlayerBase"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "e_GhostProjectile",
							"sid": 834554195235222
						},
						{
							"callFunction": "DamagePlayer",
							"sid": 296869043774494,
							"parameters": [
								"e_GhostProjectile.rangedDmg"
							]
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 166852814370223,
							"parameters": {
								"audio-file": "hit_test",
								"loop": "not-looping",
								"volume": "-5",
								"tag-optional": "\"\""
							}
						}
					],
					"sid": 718941234265782,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "E_GhostBase",
									"sid": 764750055578156,
									"parameters": {
										"unique-id": "e_GhostProjectile.BaseUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "E_GhostBase",
									"sid": 247279239334388,
									"parameters": {
										"instance-variable": "ActTime",
										"value": "0"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_GhostBase",
									"sid": 466037386098628,
									"parameters": {
										"instance-variable": "SkipPause",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "E_GhostBase",
									"sid": 168625332453121,
									"parameters": {
										"instance-variable": "TurnDone",
										"value": "true"
									}
								}
							],
							"sid": 952178825319702
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "E_GhostParticle",
							"sid": 257859906940777
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "E_GhostParticle",
							"sid": 466479217447574
						}
					],
					"sid": 879954347945359
				},
				{
					"eventType": "comment",
					"text": "Pathfinding"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-path-found",
							"objectClass": "E_GhostBase",
							"sid": 163829762086704,
							"behaviorType": "Pathfinding"
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Set EnemyMoveTile angle towards next pathfinding node"
						},
						{
							"id": "set-animation-frame",
							"objectClass": "E_GhostMoveTile",
							"sid": 587921160173256,
							"parameters": {
								"frame-number": "Functions.GetAngle45(\nE_GhostBase.ImagePointX(\"center\"),\nE_GhostBase.ImagePointY(\"center\"),\nE_GhostBase.Pathfinding.NodeXAt(0),\nE_GhostBase.Pathfinding.NodeYAt(0))/45"
							}
						},
						{
							"id": "set-position",
							"objectClass": "E_GhostBase",
							"sid": 119443564631062,
							"parameters": {
								"x": "E_GhostMoveTile.ImagePointX(\"position\")",
								"y": "E_GhostMoveTile.ImagePointY(\"position\")"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "E_GhostBase",
							"sid": 769637053822111,
							"parameters": {
								"instance-variable": "ActTime",
								"value": "0"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_GhostBase",
							"sid": 578594637397941,
							"parameters": {
								"instance-variable": "SkipPause",
								"value": "false"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_GhostBase",
							"sid": 203562256898041,
							"parameters": {
								"instance-variable": "TurnDone",
								"value": "true"
							}
						}
					],
					"sid": 573809764095143
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-failed-to-find-path",
							"objectClass": "E_GhostBase",
							"sid": 761276459095010,
							"behaviorType": "Pathfinding"
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_GhostBase",
							"sid": 100328736141432,
							"parameters": {
								"instance-variable": "SkipPause",
								"value": "true"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "E_GhostBase",
							"sid": 359335047948526,
							"parameters": {
								"instance-variable": "TurnDone",
								"value": "true"
							}
						}
					],
					"sid": 571898678768647
				}
			],
			"sid": 424120616738304
		},
		{
			"eventType": "comment",
			"text": "Set mask locations to bases"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 525805013799882
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "E_SlimeMask",
					"sid": 476070432002946,
					"parameters": {
						"x": "E_SlimeBase.ImagePointX(\"center\")",
						"y": "E_SlimeBase.ImagePointY(\"center\")"
					}
				},
				{
					"id": "set-position",
					"objectClass": "E_SlimeMoveTile",
					"sid": 545857263838837,
					"parameters": {
						"x": "E_SlimeBase.X",
						"y": "E_SlimeBase.Y"
					}
				},
				{
					"id": "set-position",
					"objectClass": "E_SkeletonMask",
					"sid": 809453178627245,
					"parameters": {
						"x": "E_SkeletonBase.ImagePointX(\"center\")",
						"y": "E_SkeletonBase.ImagePointY(\"center\")"
					}
				},
				{
					"id": "set-position",
					"objectClass": "E_SkeletonMoveTile",
					"sid": 477339552995746,
					"parameters": {
						"x": "E_SkeletonBase.X",
						"y": "E_SkeletonBase.Y"
					}
				},
				{
					"id": "set-position",
					"objectClass": "E_GhostMask",
					"sid": 195182337289507,
					"parameters": {
						"x": "E_GhostBase.ImagePointX(\"center\")",
						"y": "E_GhostBase.ImagePointY(\"center\")"
					}
				},
				{
					"id": "set-position",
					"objectClass": "E_GhostMoveTile",
					"sid": 678659145840362,
					"parameters": {
						"x": "E_GhostBase.X",
						"y": "E_GhostBase.Y"
					}
				}
			],
			"sid": 158649481078586
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 544420763256263
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "hpbar",
					"sid": 786770738421496
				}
			],
			"sid": 771456302865082
		},
		{
			"eventType": "comment",
			"text": "Set health bars, needs to be separate to select mask via container"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "E_SlimeBase",
					"sid": 959447623387829,
					"parameters": {
						"instance-variable": "hp",
						"comparison": 2,
						"value": "Self.maxhp"
					}
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 214980486724032,
					"parameters": {
						"object": "E_SlimeBase"
					}
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "E_SlimeMask",
					"sid": 793237970044679,
					"parameters": {
						"object": "hpbar",
						"layer": "\"Effects\"",
						"image-point": "\"hpbar\""
					}
				},
				{
					"id": "set-width",
					"objectClass": "hpbar",
					"sid": 415159087957245,
					"parameters": {
						"width": "E_SlimeBase.hp/E_SlimeBase.maxhp * 20"
					}
				}
			],
			"sid": 823745768254352
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "E_SkeletonBase",
					"sid": 326516802618999,
					"parameters": {
						"instance-variable": "hp",
						"comparison": 2,
						"value": "Self.maxhp"
					}
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 428116666743221,
					"parameters": {
						"object": "E_SkeletonBase"
					}
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "E_SkeletonMask",
					"sid": 269652002794393,
					"parameters": {
						"object": "hpbar",
						"layer": "\"Effects\"",
						"image-point": "\"hpbar\""
					}
				},
				{
					"id": "set-width",
					"objectClass": "hpbar",
					"sid": 802973237955355,
					"parameters": {
						"width": "E_SkeletonBase.hp/E_SkeletonBase.maxhp * 20"
					}
				}
			],
			"sid": 520322205864361
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "E_GhostBase",
					"sid": 183193032274542,
					"parameters": {
						"instance-variable": "hp",
						"comparison": 2,
						"value": "Self.maxhp"
					}
				},
				{
					"id": "for-each",
					"objectClass": "System",
					"sid": 188968356623028,
					"parameters": {
						"object": "E_GhostBase"
					}
				}
			],
			"actions": [
				{
					"id": "spawn-another-object",
					"objectClass": "E_GhostMask",
					"sid": 341915545062577,
					"parameters": {
						"object": "hpbar",
						"layer": "\"Effects\"",
						"image-point": "\"hpbar\""
					}
				},
				{
					"id": "set-width",
					"objectClass": "hpbar",
					"sid": 459036166245261,
					"parameters": {
						"width": "E_GhostBase.hp/E_GhostBase.maxhp * 20"
					}
				}
			],
			"sid": 324984608444705
		},
		{
			"eventType": "comment",
			"text": "End turn"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "EnemyBases",
					"sid": 899368152935717,
					"parameters": {
						"instance-variable": "TurnDone"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "EnemyBases",
					"sid": 452476812872944,
					"parameters": {
						"instance-variable": "TurnInProgress"
					}
				}
			],
			"actions": [
				{
					"id": "set-boolean-instvar",
					"objectClass": "EnemyBases",
					"sid": 237934606896280,
					"parameters": {
						"instance-variable": "TurnInProgress",
						"value": "false"
					}
				}
			],
			"sid": 831443687749116,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "EnemyBases",
							"sid": 566745719295697,
							"parameters": {
								"instance-variable": "LastInTurn"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 894433293365648,
							"parameters": {
								"variable": "Turn",
								"value": "0"
							}
						}
					],
					"sid": 603097991066693
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 317583139828316
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "EnemyBases",
							"sid": 215787148768617,
							"parameters": {
								"instance-variable": "SkipPause"
							}
						}
					],
					"actions": [
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 499949099786879,
							"parameters": {
								"variable": "Turn",
								"value": "1"
							}
						}
					],
					"sid": 182385396146798
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 373664110936234
						}
					],
					"actions": [
						{
							"callFunction": "NextTurn",
							"sid": 413772876090203
						}
					],
					"sid": 625618489854120
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Turn error checks",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "If there's no enemy for the current Turn, increment Turn (Check if there's no enemy with Turn TurnOrder, then if it's enemy turn add 1)"
				},
				{
					"eventType": "comment",
					"text": "If using TurnOrder != Turn, the statement would always be true so it has to be done in a slightly more Roundabout way (To Be Continued)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 253731173266185,
							"parameters": {
								"first-value": "Turn % 1",
								"comparison": 0,
								"second-value": "0"
							}
						}
					],
					"actions": [],
					"sid": 996748702641028,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "EnemyBases",
									"sid": 504391950827700,
									"parameters": {
										"instance-variable": "TurnOrder",
										"comparison": 0,
										"value": "Turn"
									}
								}
							],
							"actions": [],
							"sid": 101053583907708
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 504688325069018
								}
							],
							"actions": [],
							"sid": 994898449846203,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 575078174713100,
											"parameters": {
												"variable": "Turn",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 474782236816304,
											"parameters": {
												"variable": "Turn",
												"value": "1"
											}
										},
										{
											"id": "append-text",
											"objectClass": "TXTerrors",
											"sid": 278347328174110,
											"parameters": {
												"text": "\" nt\""
											}
										}
									],
									"sid": 869998253533202
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 803510561413966,
									"parameters": {
										"variable": "Turn",
										"comparison": 4,
										"value": "EnemiesActive"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 708383016888572,
									"parameters": {
										"variable": "Turn",
										"value": "0"
									}
								},
								{
									"id": "append-text",
									"objectClass": "TXTerrors",
									"sid": 278514934274129,
									"parameters": {
										"text": "\" fe\""
									}
								}
							],
							"sid": 973348009596281
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "EnemyBases",
							"sid": 340489799811869,
							"parameters": {
								"instance-variable": "LastInTurn"
							}
						}
					],
					"actions": [],
					"sid": 862379290363000,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "EnemyBases",
									"sid": 822216637316597,
									"parameters": {
										"instance-variable": "TurnOrder",
										"comparison": 2,
										"value": "Turn"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 708734846850247,
									"parameters": {
										"variable": "Turn",
										"value": "0"
									}
								},
								{
									"id": "append-text",
									"objectClass": "TXTerrors",
									"sid": 530049051797136,
									"parameters": {
										"text": "\" ot\""
									}
								}
							],
							"sid": 193879242894974
						}
					]
				}
			],
			"sid": 784866365682747
		}
	],
	"sid": 729823600340859
}