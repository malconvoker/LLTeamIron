{
	"name": "eUI",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "Skill Buttons",
			"description": "Animations, skill button functionality happens during player turn so is in ePlayer, MP cost is drawn in SetSkills function",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Set skill button color on activation"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "SkillButtons",
							"sid": 843605310340026,
							"parameters": {
								"instance-variable": "Touched"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "SkillButtons",
							"sid": 595412965885553,
							"parameters": {
								"instance-variable": "Active"
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "SkillButtons",
							"sid": 397786667141363,
							"parameters": {
								"color": "rgb(255, 255, 150)"
							}
						}
					],
					"sid": 734885456429666,
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "SkillButtons",
							"sid": 516997206034991,
							"parameters": {
								"instance-variable": "Touched"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "SkillButtons",
							"sid": 474202825997726,
							"parameters": {
								"instance-variable": "Active"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "SkillButtons",
							"sid": 731593414854551,
							"parameters": {
								"color": "rgb(255, 255, 255)"
							}
						}
					],
					"sid": 961785643523358
				},
				{
					"eventType": "comment",
					"text": "Flash skill buttons when picking up skill"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 586374355679019,
							"parameters": {
								"variable": "TouchMode",
								"comparison": 0,
								"value": "\"skillpickup\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "SkillButtons",
							"sid": 976510201194033,
							"parameters": {
								"color": "rgbEx(200+Self.Sine.Value, 200+Self.Sine.Value, 150+Self.Sine.Value)"
							}
						}
					],
					"sid": 616794195418039
				}
			],
			"sid": 686809025011119
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "HP, MP, crystals",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Show hp and temp hp"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "PlayerBase",
							"sid": 919149420056344,
							"parameters": {
								"instance-variable": "temphp",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "UI_HealthText",
							"sid": 335873325051042,
							"parameters": {
								"text": "PlayerBase.hp & \"/\" & PlayerBase.maxhp & \" +\" & PlayerBase.temphp"
							}
						}
					],
					"sid": 912369310557996
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 180511118528333
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "UI_HealthText",
							"sid": 894012280365092,
							"parameters": {
								"text": "PlayerBase.hp & \"/\" & PlayerBase.maxhp"
							}
						}
					],
					"sid": 234978668093656
				},
				{
					"eventType": "comment",
					"text": "Adjust bars and other text elements"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 751986379557029
						}
					],
					"actions": [
						{
							"id": "set-width",
							"objectClass": "UI_HealthBar",
							"sid": 170200502142925,
							"parameters": {
								"width": "80*PlayerBase.hp/PlayerBase.maxhp"
							}
						},
						{
							"id": "set-width",
							"objectClass": "UI_ManaBar",
							"sid": 957721400704266,
							"parameters": {
								"width": "80*PlayerBase.mp/PlayerBase.maxmp"
							}
						},
						{
							"id": "set-width",
							"objectClass": "UI_ShieldBar",
							"sid": 447320697964803,
							"parameters": {
								"width": "80*PlayerBase.temphp/PlayerBase.maxhp"
							}
						},
						{
							"id": "set-text",
							"objectClass": "UI_ManaText",
							"sid": 960728466470068,
							"parameters": {
								"text": "PlayerBase.mp & \"/\" & PlayerBase.maxmp "
							}
						},
						{
							"id": "set-text",
							"objectClass": "TXTcrystals",
							"sid": 123902566871415,
							"parameters": {
								"text": "PlayerBase.money & newline & \"(does nothing atm)\""
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "UI_Text",
							"sid": 315320630736147
						}
					],
					"sid": 716325713195564
				}
			],
			"sid": 969212004777771
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Spawn UI",
			"description": "At the start of each layout, check to see if UI exists and spawn it in if it doesn't",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Spawn UI"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 384876268259491
						}
					],
					"actions": [],
					"sid": 214707439667291,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-on-screen",
									"objectClass": "UI_BG",
									"sid": 559730980772917
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Do nothing if UI exists"
								}
							],
							"sid": 436875347729449
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 926366036236456
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Destroy old UI elements to prevent accidental overlap"
								},
								{
									"id": "destroy",
									"objectClass": "UI_Sprites",
									"sid": 729121021285078
								},
								{
									"id": "destroy",
									"objectClass": "UI_Text",
									"sid": 184421872560309
								},
								{
									"type": "comment",
									"text": "Spawn UI elements"
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 426956255088658,
									"parameters": {
										"object-to-create": "UI_BG",
										"layer": "\"UI\"",
										"x": "337",
										"y": "0"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "UI_BG",
									"sid": 793117005043590,
									"parameters": {
										"object": "UI_EmptyBar",
										"layer": "\"UI\"",
										"image-point": "\"hpbar\""
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "UI_BG",
									"sid": 895066553036280,
									"parameters": {
										"object": "UI_EmptyBar",
										"layer": "\"UI\"",
										"image-point": "\"mpbar\""
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "UI_BG",
									"sid": 107390728200210,
									"parameters": {
										"object": "UI_HealthBar",
										"layer": "\"UI\"",
										"image-point": "\"hpbar\""
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "UI_BG",
									"sid": 921459584555270,
									"parameters": {
										"object": "UI_ManaBar",
										"layer": "\"UI\"",
										"image-point": "\"mpbar\""
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "UI_HealthBar",
									"sid": 828668064120532,
									"parameters": {
										"object": "UI_HealthText",
										"layer": "\"UI\"",
										"image-point": "\"text\""
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "UI_ManaBar",
									"sid": 244088773637638,
									"parameters": {
										"object": "UI_ManaText",
										"layer": "\"UI\"",
										"image-point": "\"text\""
									}
								}
							],
							"sid": 408653751870961,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 708179275907797,
											"parameters": {
												"name": "\"skillslots\"",
												"start-index": "1",
												"end-index": "4"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "UI_BG",
											"sid": 667936762506316,
											"parameters": {
												"object": "UI_SkillButton",
												"layer": "\"UI\"",
												"image-point": "loopindex"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "UI_SkillButton",
											"sid": 106595922742717,
											"parameters": {
												"instance-variable": "SkillSlot",
												"value": "loopindex"
											}
										}
									],
									"sid": 788375669773065
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "move-to-top",
									"objectClass": "TXTcrystals",
									"sid": 255716595000946
								}
							],
							"sid": 825283170802776
						}
					]
				}
			],
			"sid": 197331606786708
		}
	],
	"sid": 272527978810390
}