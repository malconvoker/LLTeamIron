{
	"name": "eSkills",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 853338872350101
				}
			],
			"actions": [
				{
					"id": "map-function-default",
					"objectClass": "Functions",
					"sid": 154604082820351,
					"parameters": {
						"name": "\"skill\"",
						"function": "SkillMissing"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 205598435141255,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"manablast\"",
						"function": "ManaBlastSelect"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 383797510325347,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"shield\"",
						"function": "Shield"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 293642514342025,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"knightleap\"",
						"function": "KnightLeapSelect"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 528075896696082,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"manacharge\"",
						"function": "ManaChargeTap"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 305343724121159,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"soulsiphon\"",
						"function": "SoulSiphonTap"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 389101308625724,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"knockback\"",
						"function": "KnockbackSelect"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 605066167820174,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"earthpillar\"",
						"function": "EarthPillarSelect"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 641118265612301,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"manaboost\"",
						"function": "ManaBoost"
					}
				},
				{
					"id": "destroy",
					"objectClass": "Skill_ManaBlast",
					"sid": 711510501452087
				},
				{
					"id": "destroy",
					"objectClass": "Skill_KnightLeap",
					"sid": 458949974398410
				}
			],
			"sid": 813242609112864,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-empty",
							"objectClass": "Skills",
							"sid": 853459464469691
						}
					],
					"actions": [
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 574137224199879,
							"parameters": {
								"tag": "\"skills\"",
								"file": "Skills.json"
							}
						},
						{
							"id": "append-text",
							"objectClass": "TXTerrors",
							"sid": 709558069289332,
							"parameters": {
								"text": "\" noskills\""
							}
						}
					],
					"sid": 333952704263759
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 267479678132033
						}
					],
					"actions": [
						{
							"callFunction": "SetSkills",
							"sid": 924470224072310
						},
						{
							"id": "append-text",
							"objectClass": "TXTerrors",
							"sid": 291571689484397,
							"parameters": {
								"text": "\"found\""
							}
						}
					],
					"sid": 970919236804903
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 251961099281765,
					"parameters": {
						"tag": "\"skills\""
					}
				}
			],
			"actions": [
				{
					"id": "parse",
					"objectClass": "JSON",
					"sid": 984776794598679,
					"parameters": {
						"data": "AJAX.LastData"
					}
				},
				{
					"id": "load",
					"objectClass": "Skills",
					"sid": 842749000177947,
					"parameters": {
						"json": "JSON.ToCompactString"
					}
				},
				{
					"callFunction": "SetSkills",
					"sid": 650666398839332
				}
			],
			"sid": 644293461286460
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 427578830614028
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "SkillButtons",
					"sid": 940964417469079,
					"parameters": {
						"animation": "Self.CurrentSkill",
						"from": "beginning"
					}
				},
				{
					"id": "set-animation",
					"objectClass": "SkillPickup",
					"sid": 777322788017070,
					"parameters": {
						"animation": "Self.CurrentSkill",
						"from": "beginning"
					}
				}
			],
			"sid": 864634958328888
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ManaBlast",
			"description": "Shoots a projectile at target enemy in LOS, dealing damage to it",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "ManaBlastSelect",
					"functionDescription": "Ranged attack, changes cursor mode to target",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Targeting itself is dealt with in Player event sheet, under End Touch"
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 899466059657829,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"skilltarget\""
							}
						}
					],
					"sid": 230432006643872,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 711096181546590,
									"parameters": {
										"object": "EnemyBases",
										"expression": "EnemyBases.IID",
										"order": "ascending"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "EnemyBases",
									"sid": 297967612641458,
									"parameters": {
										"object": "Skill_Target",
										"layer": "\"Objects\"",
										"image-point": "0"
									}
								}
							],
							"sid": 489209380411413,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 783987766532072,
											"parameters": {
												"first-value": "Functions.LOScheck(PlayerBase.X, PlayerBase.Y, Skill_Target.X, Skill_Target.Y)",
												"comparison": 0,
												"second-value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Skill_Target",
											"sid": 319512268031893
										}
									],
									"sid": 848149487477322
								}
							]
						}
					]
				},
				{
					"functionName": "ManaBlastUse",
					"functionDescription": "Ranged attack, shoots the fireball",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 679532706443336,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"default\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 552669318644112,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"callFunction": "LoseMana",
							"sid": 247832687807648,
							"parameters": [
								"Skills.At(1,5)"
							]
						},
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 784385804400819,
							"parameters": {
								"animation": "\"manablast\"",
								"from": "beginning"
							}
						},
						{
							"type": "comment",
							"text": "Spawn projectile, but invisible"
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerMask",
							"sid": 799721219883599,
							"parameters": {
								"object": "Skill_ManaBlast",
								"layer": "\"Effects\"",
								"image-point": "\"point\""
							}
						}
					],
					"sid": 807582584101305,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "EnemyBases",
									"sid": 186304875191753,
									"parameters": {
										"object": "Cursor"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Skill_ManaBlast",
									"sid": 489442587490212,
									"parameters": {
										"instance-variable": "TargetUID",
										"value": "EnemyBases.UID"
									}
								}
							],
							"sid": 957164930151969
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Chargeup finished"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 852822815449352,
							"parameters": {
								"animation": "\"manablast\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "EnemyBases",
							"sid": 519895376528890,
							"parameters": {
								"unique-id": "Skill_ManaBlast.TargetUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 851452180040813,
							"parameters": {
								"animation": "\"manablastfinish\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "Skill_ManaBlast",
							"sid": 887531761814652,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Skill_ManaBlast",
							"sid": 524168812359701,
							"behaviorType": "Bullet",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"type": "comment",
							"text": "Set bullet direction towards targeted enemy"
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "Skill_ManaBlast",
							"sid": 211680697719646,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "angle(Self.X, Self.Y,\nEnemyBases.ImagePointX(\"center\"),\nEnemyBases.ImagePointY(\"center\"))"
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerMask",
							"sid": 703287313371145,
							"parameters": {
								"object": "Skill_ManaBlastParticle",
								"layer": "\"Effects\"",
								"image-point": "\"point\""
							}
						}
					],
					"sid": 587560588555115
				},
				{
					"eventType": "comment",
					"text": "Projectile hits target"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "EnemyBases",
							"sid": 396946737062361,
							"parameters": {
								"object": "Skill_ManaBlast"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "EnemyBases",
							"sid": 951870654404905,
							"parameters": {
								"unique-id": "Skill_ManaBlast.TargetUID"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "Skill_ManaBlastParticle",
							"sid": 111581711950334
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_ManaBlast",
							"sid": 230799047566240
						},
						{
							"callFunction": "DamageEnemy",
							"sid": 294384795048900,
							"parameters": [
								"Skill_ManaBlast.rangedDmg",
								"EnemyBases.UID",
								true
							]
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 368408408616026,
							"parameters": {
								"audio-file": "hit_test",
								"loop": "not-looping",
								"volume": "-5",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 405487223567549,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						},
						{
							"callFunction": "NextTurn",
							"sid": 368845662661567
						}
					],
					"sid": 559265134947352
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "Skill_ManaBlastParticle",
							"sid": 515741252274117
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_ManaBlastParticle",
							"sid": 797712771908035
						}
					],
					"sid": 719983813804375
				}
			],
			"sid": 723175516349234
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Shield",
			"description": "Provides temporary hp on top of normal hp\nShield loses 1hp each turn it doesn't take damage\nDecay does not happen on turn of activation",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Functional code is in DamagePlayer function and at the start of Player turn in ePlayer"
				},
				{
					"functionName": "Shield",
					"functionDescription": "Activates Shield, provides temp hp that decay 1/turn if not damaged",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 336068050086495,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"callFunction": "LoseMana",
							"sid": 255392126104385,
							"parameters": [
								"Skills.At(1,6)"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "PlayerBase",
							"sid": 231026886611686,
							"parameters": {
								"instance-variable": "temphp",
								"value": "6"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "PlayerBase",
							"sid": 690406196998870,
							"parameters": {
								"instance-variable": "temphpdecay",
								"value": "false"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Skill_Shield",
							"sid": 146537733155598
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerBase",
							"sid": 883497052595598,
							"parameters": {
								"object": "Skill_Shield",
								"layer": "\"Effects\"",
								"image-point": "\"center\""
							}
						},
						{
							"callFunction": "NextTurn",
							"sid": 288000766077825
						}
					],
					"sid": 781985184476647
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Skill_Shield",
							"sid": 635204071669441,
							"parameters": {
								"animation": "\"flash\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Skill_Shield",
							"sid": 893898519087067,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						}
					],
					"sid": 527889510268714
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "PlayerBase",
							"sid": 890855368318530,
							"parameters": {
								"instance-variable": "temphp",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_Shield",
							"sid": 358264469210031
						}
					],
					"sid": 714298022515070
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "Skill_Shield",
							"sid": 938735677854355
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "Skill_Shield",
							"sid": 655901029439832,
							"parameters": {
								"x": "PlayerMask.X",
								"y": "PlayerMask.Y"
							}
						}
					],
					"sid": 938077105217020
				}
			],
			"sid": 342181691939202
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "KnightLeap",
			"description": "Move like a chess Knight, even through enemies and obstacles",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "KnightLeapSelect",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Targeting itself is dealt with in Player event sheet, under End Touch"
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 155640234476982,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"skilltarget\""
							}
						}
					],
					"sid": 946092386691306,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 499141548363580,
									"parameters": {
										"name": "\"LeapTiles\"",
										"start-index": "0",
										"end-index": "7"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Spawn target tiles on preset locations around player"
								},
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerBase",
									"sid": 659902444031731,
									"parameters": {
										"object": "Skill_KnightLeap",
										"layer": "\"Effects\"",
										"image-point": "0"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "Skill_KnightLeap",
									"sid": 935857035394068,
									"parameters": {
										"frame-number": "loopindex"
									}
								}
							],
							"sid": 426347952995446,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_KnightLeap",
											"sid": 108523254035340,
											"parameters": {
												"object": "Collisions"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_KnightLeap",
											"sid": 474987734776875,
											"parameters": {
												"object": "NPCBases"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_KnightLeap",
											"sid": 931798701246880,
											"parameters": {
												"object": "EnemyBases"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Skill_KnightLeap",
											"sid": 984639596419826
										}
									],
									"sid": 648963261678981,
									"isOrBlock": true
								}
							]
						}
					]
				},
				{
					"functionName": "KnightLeapUse",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 833719130338603,
							"parameters": {
								"animation": "\"knightleap\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "Skill_KnightLeap",
							"sid": 951298716527197,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 694981163820638,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Skill_KnightLeap",
									"sid": 979511754514991,
									"parameters": {
										"object": "Cursor"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Destroy all but the selected target"
								},
								{
									"id": "destroy",
									"objectClass": "Skill_KnightLeap",
									"sid": 983152185266769
								}
							],
							"sid": 227877456422937
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "PlayerMask",
							"sid": 264487949446420,
							"parameters": {
								"animation": "\"knightleap\""
							}
						}
					],
					"actions": [
						{
							"type": "comment",
							"text": "Animation ping pongs, fade to 25% opacity and back"
						},
						{
							"id": "set-opacity",
							"objectClass": "PlayerMask",
							"sid": 972384221922929,
							"parameters": {
								"opacity": "25+25*(abs(3-Self.AnimationFrame))"
							}
						}
					],
					"sid": 875560588479639,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-animation-frame",
									"objectClass": "PlayerMask",
									"sid": 322415182194711,
									"parameters": {
										"comparison": 0,
										"number": "3"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 539475116704207
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Final animation frame, after which ping pongs"
								},
								{
									"id": "set-position",
									"objectClass": "PlayerBase",
									"sid": 522613734412643,
									"parameters": {
										"x": "Skill_KnightLeap.ImagePointX(\"position\")",
										"y": "Skill_KnightLeap.ImagePointY(\"position\")"
									}
								},
								{
									"callFunction": "LoseMana",
									"sid": 577688849625861,
									"parameters": [
										"Skills.At(1,7)"
									]
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 375684340926898,
									"parameters": {
										"audio-file": "walk_sound_test",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								}
							],
							"sid": 558921720013144
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 822005657025685,
							"parameters": {
								"animation": "\"knightleap\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 879130947542657,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 136841196272694,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 752666489140172,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"default\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "Cursor",
							"sid": 153147797124177,
							"parameters": {
								"x": "-100",
								"y": "-100"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Skill_KnightLeap",
							"sid": 789668993327402
						},
						{
							"callFunction": "NextTurn",
							"sid": 144442783559312
						}
					],
					"sid": 258357901009846
				}
			],
			"sid": 430727564660008
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ManaCharge",
			"description": "Passive: Killing an enemy gives 1 charge, at 3 charges automatically restores 1 mp",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "ManaChargeTap",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 452057366468409,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						}
					],
					"sid": 250700965442495
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_SkillButton",
							"sid": 800582197814999,
							"parameters": {
								"instance-variable": "CurrentSkill",
								"comparison": 0,
								"value": "\"manacharge\""
							}
						}
					],
					"actions": [],
					"sid": 476781313399730,
					"children": [
						{
							"eventType": "variable",
							"name": "MCKilled",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 120514077906214
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 401699288217759
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Set local variable when equipping skill"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 350005901621958,
									"parameters": {
										"variable": "MCKilled",
										"value": "EnemiesKilled"
									}
								}
							],
							"sid": 555233251327424
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-animation-frame",
									"objectClass": "UI_SkillButton",
									"sid": 987754074244847,
									"parameters": {
										"comparison": 0,
										"number": "3"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "PlayerBase",
									"sid": 437407636470253,
									"parameters": {
										"instance-variable": "mp",
										"comparison": 2,
										"value": "PlayerBase.maxmp"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "If Value is 3 and mp is not full"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 796855628360307,
									"parameters": {
										"instance-variable": "Value",
										"value": "0"
									}
								},
								{
									"id": "add-to-instvar",
									"objectClass": "PlayerBase",
									"sid": 599858508879073,
									"parameters": {
										"instance-variable": "mp",
										"value": "1"
									}
								}
							],
							"sid": 820088253377091
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 473645918406823
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 185284927121372,
									"parameters": {
										"variable": "EnemiesKilled",
										"comparison": 4,
										"value": "MCKilled"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Increment skill value by 1 after kill"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 940212968105216,
									"parameters": {
										"instance-variable": "Value",
										"value": "Self.Value+1"
									}
								}
							],
							"sid": 743656120071461
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "UI_SkillButton",
									"sid": 122207460194079,
									"parameters": {
										"frame-number": "Self.Value"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 309554583984018,
									"parameters": {
										"variable": "MCKilled",
										"value": "EnemiesKilled"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 129257376521511,
									"parameters": {
										"x": "2",
										"y": "UI_SkillButton.SkillSlot",
										"value": "UI_SkillButton.Value"
									}
								}
							],
							"sid": 660684928685806
						}
					]
				}
			],
			"sid": 269141221900130
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "SoulSiphon",
			"description": "Passive: Killing an enemy gives 3 temp mp, that decay at 1 mp per turn\nDecay does not happen if temp hp is used or on turn of activation",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "SoulSiphonTap",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 148675447715679,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						}
					],
					"sid": 489710042808720
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_SkillButton",
							"sid": 394599511677822,
							"parameters": {
								"instance-variable": "CurrentSkill",
								"comparison": 0,
								"value": "\"soulsiphon\""
							}
						}
					],
					"actions": [],
					"sid": 244246098144888,
					"children": [
						{
							"eventType": "variable",
							"name": "SSKilled",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 954577584723888
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 729933252846776
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Set local variable when equipping skill"
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 829627604310300,
									"parameters": {
										"variable": "SSKilled",
										"value": "EnemiesKilled"
									}
								}
							],
							"sid": 649225783657141
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 768586236835019,
									"parameters": {
										"variable": "EnemiesKilled",
										"comparison": 4,
										"value": "SSKilled"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Activate after kill"
								},
								{
									"id": "add-to-instvar",
									"objectClass": "PlayerBase",
									"sid": 227118942767684,
									"parameters": {
										"instance-variable": "tempmp",
										"value": "3"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "PlayerBase",
									"sid": 805792474910640,
									"parameters": {
										"instance-variable": "tempmpdecay",
										"value": "false"
									}
								}
							],
							"sid": 972555802331103
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 198565925918525,
									"parameters": {
										"variable": "SSKilled",
										"value": "EnemiesKilled"
									}
								}
							],
							"sid": 353283530928870
						}
					]
				}
			],
			"sid": 321856090372821
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Knockback",
			"description": "Does a melee attack using normal stats and moves target back 1 tile",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "KnockbackSelect",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Targeting itself is dealt with in Player event sheet, under End Touch"
						}
					],
					"sid": 546613759988839,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 742770435349674,
									"parameters": {
										"object": "EnemyBases",
										"expression": "EnemyBases.IID",
										"order": "ascending"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 965935170179981,
									"parameters": {
										"first-value": "Functions.PlayerDistance(EnemyBases.X, EnemyBases.Y)",
										"comparison": 0,
										"second-value": "1"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Creates target on each enemy in player's melee range"
								},
								{
									"id": "spawn-another-object",
									"objectClass": "EnemyBases",
									"sid": 876398065783505,
									"parameters": {
										"object": "Skill_Target",
										"layer": "\"Objects\"",
										"image-point": "0"
									}
								},
								{
									"type": "comment",
									"text": "Move target behind enemy to the tile the enemy will be knocked back to"
								},
								{
									"id": "set-position",
									"objectClass": "Skill_Target",
									"sid": 450739053903445,
									"parameters": {
										"x": "Self.X+ Self.X-PlayerBase.X",
										"y": "Self.Y+ Self.Y-PlayerBase.Y"
									}
								}
							],
							"sid": 359901920399888,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_Target",
											"sid": 882621686772473,
											"parameters": {
												"object": "EnemyBases"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_Target",
											"sid": 415795350736192,
											"parameters": {
												"object": "Collisions"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If the tile behind adjacent enemy is not empty, destroy that target"
										},
										{
											"id": "destroy",
											"objectClass": "Skill_Target",
											"sid": 606625401944808
										}
									],
									"sid": 769136274297213,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 932046277691633
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Spawn target on enemy as well"
										},
										{
											"id": "spawn-another-object",
											"objectClass": "EnemyBases",
											"sid": 120038533414792,
											"parameters": {
												"object": "Skill_Target",
												"layer": "\"Objects\"",
												"image-point": "0"
											}
										}
									],
									"sid": 959905492097521
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 190040877589970
								}
							],
							"sid": 320503313537045,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-on-screen",
											"objectClass": "Skill_Target",
											"sid": 245480408150260
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "If there are valid targets"
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 484237999551992,
											"parameters": {
												"variable": "TouchMode",
												"value": "\"skilltarget\""
											}
										}
									],
									"sid": 360794440742368
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 772304385457484
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 897667352485252,
											"parameters": {
												"variable": "TouchMode",
												"value": "\"default\""
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "SkillButtons",
											"sid": 654112763342675,
											"parameters": {
												"instance-variable": "Active",
												"value": "false"
											}
										}
									],
									"sid": 716138815484418
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 624052802019491
								}
							]
						}
					]
				},
				{
					"functionName": "KnockbackUse",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 124059046951514,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "PlayerMoveTile",
									"sid": 989102032716825,
									"parameters": {
										"object": "EnemyBases"
									}
								}
							],
							"actions": [
								{
									"callFunction": "DamageEnemy",
									"sid": 652389152889977,
									"parameters": [
										"PlayerBase.meleeDmg",
										"EnemyBases.UID",
										true
									]
								},
								{
									"id": "set-animation",
									"objectClass": "PlayerMask",
									"sid": 263882947636075,
									"parameters": {
										"animation": "\"attack\"",
										"from": "beginning"
									}
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 176377552967240,
									"parameters": {
										"audio-file": "hit_test",
										"loop": "not-looping",
										"volume": "-5",
										"tag-optional": "\"\""
									}
								},
								{
									"type": "comment",
									"text": "Move enemy one tile away"
								},
								{
									"id": "set-position",
									"objectClass": "EnemyBases",
									"sid": 106063608195685,
									"parameters": {
										"x": "Self.X+ Self.X-PlayerBase.X",
										"y": "Self.Y+ Self.Y-PlayerBase.Y"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "SkillButtons",
									"sid": 197324304066259,
									"parameters": {
										"instance-variable": "Active",
										"value": "false"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 386995823522296,
									"parameters": {
										"variable": "TouchMode",
										"value": "\"default\""
									}
								},
								{
									"callFunction": "LoseMana",
									"sid": 579521003068835,
									"parameters": [
										"Skills.At(1,10)"
									]
								},
								{
									"callFunction": "NextTurn",
									"sid": 192029375270191
								}
							],
							"sid": 160611258590587
						}
					]
				}
			],
			"sid": 468131947500740
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "EarthPillar",
			"description": "Creates a temporary wall in an empty space within 3 tiles",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "EarthPillarSelect",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Targeting itself is dealt with in Player event sheet, under End Touch"
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 378094339414408,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"skilltarget\""
							}
						}
					],
					"sid": 340725055448261,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 585126119088086,
									"parameters": {
										"name": "\"PillarX\"",
										"start-index": "-3",
										"end-index": "3"
									}
								},
								{
									"id": "for",
									"objectClass": "System",
									"sid": 334148489360312,
									"parameters": {
										"name": "\"PillarY\"",
										"start-index": "-3",
										"end-index": "3"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Create targets on all free tiles within 3 tiles of Player"
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 501724374286221,
									"parameters": {
										"object-to-create": "Skill_Target",
										"layer": "\"Objects\"",
										"x": "PlayerBase.X + loopindex(\"PillarX\")*Tile",
										"y": "PlayerBase.Y + loopindex(\"PillarY\")*Tile"
									}
								}
							],
							"sid": 890486889128075,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_Target",
											"sid": 595540262317545,
											"parameters": {
												"object": "Collisions"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_Target",
											"sid": 736893389088511,
											"parameters": {
												"object": "EnemyBases"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_Target",
											"sid": 487680847911622,
											"parameters": {
												"object": "PlayerBase"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Skill_Target",
											"sid": 758271577128529
										}
									],
									"sid": 525203170697502,
									"isOrBlock": true
								}
							]
						}
					]
				},
				{
					"functionName": "EarthPillarUse",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "spawn-another-object",
							"objectClass": "Cursor",
							"sid": 884866889840078,
							"parameters": {
								"object": "Skill_EarthPillar",
								"layer": "\"Objects\"",
								"image-point": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Skill_EarthPillar",
							"sid": 574986943046891,
							"parameters": {
								"instance-variable": "maxhp",
								"value": "6"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Skill_EarthPillar",
							"sid": 662297731257048,
							"parameters": {
								"instance-variable": "hp",
								"value": "Self.maxhp+1"
							}
						},
						{
							"id": "set-tile",
							"objectClass": "Collisions",
							"sid": 981971711894481,
							"parameters": {
								"tile-x": "Self.PositionToTileX(Skill_EarthPillar.X)",
								"tile-y": "Self.PositionToTileY(Skill_EarthPillar.Y)",
								"tile": "0",
								"state": "normal"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 101005052499191,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"default\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 765638661027969,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"callFunction": "LoseMana",
							"sid": 152427076464180,
							"parameters": [
								"Skills.At(1,11)"
							]
						},
						{
							"callFunction": "NextTurn",
							"sid": 520334058609896
						}
					],
					"sid": 269129381920861
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Skill_EarthPillar",
							"sid": 236832593202029,
							"parameters": {
								"instance-variable": "hp",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "erase-tile",
							"objectClass": "Collisions",
							"sid": 297757730172768,
							"parameters": {
								"tile-x": "Self.PositionToTileX(Skill_EarthPillar.X)",
								"tile-y": "Self.PositionToTileY(Skill_EarthPillar.Y)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Skill_EarthPillar",
							"sid": 487214743452865,
							"parameters": {
								"animation": "\"down\"",
								"from": "beginning"
							}
						}
					],
					"sid": 184508691901246
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Skill_EarthPillar",
							"sid": 203806488889688,
							"parameters": {
								"animation": "\"down\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_EarthPillar",
							"sid": 990962481484506
						}
					],
					"sid": 960654418828173
				}
			],
			"sid": 296597529117802
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ManaBoost",
			"description": "2 charges: gives 3 mp and 6 temp mp",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "ManaBoost",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 890645064529706,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 179504614984428,
									"parameters": {
										"instance-variable": "CurrentSkill",
										"comparison": 0,
										"value": "\"manaboost\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "SkillButtons",
									"sid": 832633097671825,
									"parameters": {
										"instance-variable": "Active",
										"value": "false"
									}
								},
								{
									"callFunction": "GainMana",
									"sid": 557291575208955,
									"parameters": [
										"3"
									]
								},
								{
									"id": "add-to-instvar",
									"objectClass": "PlayerBase",
									"sid": 670570438473910,
									"parameters": {
										"instance-variable": "tempmp",
										"value": "6"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "PlayerBase",
									"sid": 408758287808676,
									"parameters": {
										"instance-variable": "tempmpdecay",
										"value": "false"
									}
								},
								{
									"callFunction": "NextTurn",
									"sid": 719606975173129
								},
								{
									"id": "subtract-from-instvar",
									"objectClass": "UI_SkillButton",
									"sid": 138071836980787,
									"parameters": {
										"instance-variable": "Value",
										"value": "1"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 870854674143812,
									"parameters": {
										"x": "2",
										"y": "UI_SkillButton.SkillSlot",
										"value": "UI_SkillButton.Value"
									}
								}
							],
							"sid": 416862604858018
						}
					]
				}
			],
			"sid": 401445406233846
		},
		{
			"eventType": "comment",
			"text": "Delete skill targeting indicators if not targeting"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 245035439296992,
					"parameters": {
						"variable": "TouchMode",
						"comparison": 1,
						"value": "\"skilltarget\""
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "Skill_KnightLeap",
					"sid": 913069379915154
				},
				{
					"id": "destroy",
					"objectClass": "Skill_Target",
					"sid": 434696892320521
				}
			],
			"sid": 431979280731488
		},
		{
			"functionName": "SkillMissing",
			"functionDescription": "Default mapped skill, for error checking",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "append-text",
					"objectClass": "TXTerrors",
					"sid": 115498143345347,
					"parameters": {
						"text": "\" sk\""
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "SkillButtons",
					"sid": 564886017617131,
					"parameters": {
						"instance-variable": "Active",
						"value": "false"
					}
				}
			],
			"sid": 701572271772531
		},
		{
			"functionName": "ChangeSkill",
			"functionDescription": "Changes current skill",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Slot",
					"type": "number",
					"initialValue": "1",
					"comment": "Slot to put skill into, 1-4",
					"sid": 182936803168275
				},
				{
					"name": "newSkill",
					"type": "string",
					"initialValue": "",
					"comment": "Code name for new skill to swap to",
					"sid": 829445380719001
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 930694672473764,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_SkillButton",
							"sid": 747695114364830,
							"parameters": {
								"instance-variable": "SkillSlot",
								"comparison": 0,
								"value": "Slot"
							}
						}
					],
					"actions": [],
					"sid": 188051178254949,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 623694154353971,
									"parameters": {
										"instance-variable": "CurrentSkill",
										"comparison": 1,
										"value": "\"empty\""
									}
								}
							],
							"actions": [],
							"sid": 620795408730265,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "SkillPickup",
											"sid": 890793985378181,
											"parameters": {
												"instance-variable": "Selected"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "SkillPickup",
											"sid": 290306632775498,
											"parameters": {
												"instance-variable": "Selected",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "SkillPickup",
											"sid": 357733679501836,
											"parameters": {
												"instance-variable": "CurrentSkill",
												"value": "UI_SkillButton.CurrentSkill"
											}
										}
									],
									"sid": 508122306370302
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 648003012472935,
									"parameters": {
										"instance-variable": "CurrentSkill",
										"value": "newSkill"
									}
								}
							],
							"sid": 222292699648666
						},
						{
							"eventType": "comment",
							"text": "Find corresponding row of Skills array, set MPCost and Value"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "Skills",
									"sid": 528430056869381,
									"parameters": {
										"axes": "xy"
									}
								},
								{
									"id": "compare-current-value",
									"objectClass": "Skills",
									"sid": 404666233258321,
									"parameters": {
										"comparison": 0,
										"value": "newSkill"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 292290247860940,
									"parameters": {
										"instance-variable": "MPCost",
										"value": "Skills.At(1,Skills.CurY)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 627197098714423,
									"parameters": {
										"instance-variable": "Value",
										"value": "Skills.At(2,Skills.CurY)"
									}
								}
							],
							"sid": 677294960446290
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "UI_SkillButton",
									"sid": 598407093469573,
									"parameters": {
										"animation": "Self.CurrentSkill",
										"from": "beginning"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 617392935566912,
									"parameters": {
										"x": "0",
										"y": "Slot",
										"value": "UI_SkillButton.CurrentSkill"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 778996197949842,
									"parameters": {
										"x": "1",
										"y": "Slot",
										"value": "UI_SkillButton.MPCost"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 900601055212256,
									"parameters": {
										"x": "2",
										"y": "Slot",
										"value": "UI_SkillButton.Value"
									}
								}
							],
							"sid": 391920378739531
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "TXTmpcost",
									"sid": 361543781273526,
									"parameters": {
										"instance-variable": "SkillSlot",
										"comparison": 0,
										"value": "Slot"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "TXTmpcost",
									"sid": 838524528449196
								}
							],
							"sid": 593293498507573
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 261639698872011,
									"parameters": {
										"instance-variable": "MPCost",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "UI_SkillButton",
									"sid": 657735232065888,
									"parameters": {
										"object": "TXTmpcost",
										"layer": "\"UI\"",
										"image-point": "\"mpcost\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "TXTmpcost",
									"sid": 555463887453584,
									"parameters": {
										"text": "UI_SkillButton.MPCost"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "TXTmpcost",
									"sid": 643847283202551,
									"parameters": {
										"instance-variable": "SkillSlot",
										"value": "UI_SkillButton.SkillSlot"
									}
								}
							],
							"sid": 417652840230494
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "SkillPickup",
									"sid": 862881422412064,
									"parameters": {
										"instance-variable": "Selected"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "SkillPickup",
									"sid": 649677851563603
								}
							],
							"sid": 994070438043821
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 107107877045935,
									"parameters": {
										"variable": "TouchMode",
										"value": "\"default\""
									}
								}
							],
							"sid": 347022078336635
						}
					]
				}
			]
		},
		{
			"functionName": "SetSkills",
			"functionDescription": "Loads skills from array",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Loads skills from array"
				},
				{
					"type": "comment",
					"text": "Skills array Y values 1-4 correspond to current skills, file has default skills"
				},
				{
					"id": "append-text",
					"objectClass": "TXTerrors",
					"sid": 472893555515576,
					"parameters": {
						"text": "\" ss\""
					}
				},
				{
					"id": "destroy",
					"objectClass": "TXTmpcost",
					"sid": 273661268774038
				}
			],
			"sid": 154925955969278,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-ordered",
							"objectClass": "System",
							"sid": 244924782986430,
							"parameters": {
								"object": "UI_SkillButton",
								"expression": "UI_SkillButton.SkillSlot",
								"order": "ascending"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "UI_SkillButton",
							"sid": 496324622141329,
							"parameters": {
								"instance-variable": "CurrentSkill",
								"value": "Skills.At(0,Self.SkillSlot)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "UI_SkillButton",
							"sid": 103007118833742,
							"parameters": {
								"instance-variable": "MPCost",
								"value": "Skills.At(1,Self.SkillSlot)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "UI_SkillButton",
							"sid": 113457104694974,
							"parameters": {
								"instance-variable": "Value",
								"value": "Skills.At(2,Self.SkillSlot)"
							}
						}
					],
					"sid": 659621387482973,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 877306624180939,
									"parameters": {
										"instance-variable": "MPCost",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "UI_SkillButton",
									"sid": 155635875668106,
									"parameters": {
										"object": "TXTmpcost",
										"layer": "\"UI\"",
										"image-point": "\"mpcost\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "TXTmpcost",
									"sid": 296419063292130,
									"parameters": {
										"text": "UI_SkillButton.MPCost"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "TXTmpcost",
									"sid": 445322386618897,
									"parameters": {
										"instance-variable": "SkillSlot",
										"value": "UI_SkillButton.SkillSlot"
									}
								}
							],
							"sid": 702420791471796
						}
					]
				}
			]
		}
	],
	"sid": 981738453536028
}