{
	"name": "eSkills",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 853338872350101
				}
			],
			"actions": [
				{
					"id": "map-function-default",
					"objectClass": "Functions",
					"sid": 154604082820351,
					"parameters": {
						"name": "\"skill\"",
						"function": "SkillMissing"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 205598435141255,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"manablast\"",
						"function": "ManaBlastSelect"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 383797510325347,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"shield\"",
						"function": "Shield"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 293642514342025,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"knightleap\"",
						"function": "KnightLeapSelect"
					}
				},
				{
					"id": "map-function",
					"objectClass": "Functions",
					"sid": 528075896696082,
					"parameters": {
						"name": "\"skill\"",
						"string": "\"manacharge\"",
						"function": "ManaChargeTap"
					}
				},
				{
					"id": "destroy",
					"objectClass": "Skill_ManaBlast",
					"sid": 711510501452087
				},
				{
					"id": "destroy",
					"objectClass": "Skill_KnightLeap",
					"sid": 458949974398410
				}
			],
			"sid": 813242609112864,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-empty",
							"objectClass": "Skills",
							"sid": 853459464469691
						}
					],
					"actions": [
						{
							"id": "request-project-file",
							"objectClass": "AJAX",
							"sid": 574137224199879,
							"parameters": {
								"tag": "\"skills\"",
								"file": "Skills.json"
							}
						},
						{
							"id": "append-text",
							"objectClass": "TXTerrors",
							"sid": 709558069289332,
							"parameters": {
								"text": "\" noskills\""
							}
						}
					],
					"sid": 333952704263759
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 267479678132033
						}
					],
					"actions": [
						{
							"callFunction": "SetSkills",
							"sid": 924470224072310
						},
						{
							"id": "append-text",
							"objectClass": "TXTerrors",
							"sid": 291571689484397,
							"parameters": {
								"text": "\"found\""
							}
						}
					],
					"sid": 970919236804903
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 251961099281765,
					"parameters": {
						"tag": "\"skills\""
					}
				}
			],
			"actions": [
				{
					"id": "parse",
					"objectClass": "JSON",
					"sid": 984776794598679,
					"parameters": {
						"data": "AJAX.LastData"
					}
				},
				{
					"id": "load",
					"objectClass": "Skills",
					"sid": 842749000177947,
					"parameters": {
						"json": "JSON.ToCompactString"
					}
				},
				{
					"callFunction": "SetSkills",
					"sid": 650666398839332
				}
			],
			"sid": 644293461286460
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 427578830614028
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "SkillButtons",
					"sid": 940964417469079,
					"parameters": {
						"animation": "Self.CurrentSkill",
						"from": "beginning"
					}
				},
				{
					"id": "set-animation",
					"objectClass": "SkillPickup",
					"sid": 777322788017070,
					"parameters": {
						"animation": "Self.CurrentSkill",
						"from": "beginning"
					}
				}
			],
			"sid": 864634958328888
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ManaBlast",
			"description": "Shoots a projectile at target enemy in LOS, dealing damage to it",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Fireball Skill: shoots a fireball at target enemy in LOS, dealing damage to it"
				},
				{
					"functionName": "ManaBlastSelect",
					"functionDescription": "Ranged attack, changes cursor mode to target",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Targeting itself is dealt with in Player event sheet, under End Touch"
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 899466059657829,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"skilltarget\""
							}
						}
					],
					"sid": 230432006643872
				},
				{
					"functionName": "ManaBlastUse",
					"functionDescription": "Ranged attack, shoots the fireball",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 679532706443336,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"default\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 552669318644112,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "PlayerBase",
							"sid": 870575506618099,
							"parameters": {
								"instance-variable": "mp",
								"value": "1"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 784385804400819,
							"parameters": {
								"animation": "\"manablast\"",
								"from": "beginning"
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerMask",
							"sid": 799721219883599,
							"parameters": {
								"object": "Skill_ManaBlast",
								"layer": "\"Effects\"",
								"image-point": "\"point\""
							}
						}
					],
					"sid": 807582584101305,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "EnemyBases",
									"sid": 186304875191753,
									"parameters": {
										"object": "Cursor"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Skill_ManaBlast",
									"sid": 489442587490212,
									"parameters": {
										"instance-variable": "TargetUID",
										"value": "EnemyBases.UID"
									}
								}
							],
							"sid": 957164930151969
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Chargeup finished"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 852822815449352,
							"parameters": {
								"animation": "\"manablast\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "EnemyBases",
							"sid": 519895376528890,
							"parameters": {
								"unique-id": "Skill_ManaBlast.TargetUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 851452180040813,
							"parameters": {
								"animation": "\"manablastfinish\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "Skill_ManaBlast",
							"sid": 887531761814652,
							"parameters": {
								"visibility": "visible"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "Skill_ManaBlast",
							"sid": 524168812359701,
							"behaviorType": "Bullet",
							"parameters": {
								"state": "enabled"
							}
						},
						{
							"id": "set-angle-of-motion",
							"objectClass": "Skill_ManaBlast",
							"sid": 211680697719646,
							"behaviorType": "Bullet",
							"parameters": {
								"angle": "angle(Self.X, Self.Y,\nEnemyBases.ImagePointX(\"center\"),\nEnemyBases.ImagePointY(\"center\"))"
							}
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerMask",
							"sid": 703287313371145,
							"parameters": {
								"object": "Skill_ManaBlastParticle",
								"layer": "\"Effects\"",
								"image-point": "\"point\""
							}
						}
					],
					"sid": 587560588555115
				},
				{
					"eventType": "comment",
					"text": "Projectile hits target"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "EnemyBases",
							"sid": 396946737062361,
							"parameters": {
								"object": "Skill_ManaBlast"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "EnemyBases",
							"sid": 951870654404905,
							"parameters": {
								"unique-id": "Skill_ManaBlast.TargetUID"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_ManaBlast",
							"sid": 230799047566240
						},
						{
							"callFunction": "DamageEnemy",
							"sid": 427365490966459,
							"parameters": [
								"Skill_ManaBlast.rangedDmg",
								"EnemyBases.UID"
							]
						},
						{
							"id": "play",
							"objectClass": "Audio",
							"sid": 368408408616026,
							"parameters": {
								"audio-file": "hit_test",
								"loop": "not-looping",
								"volume": "-5",
								"tag-optional": "\"\""
							}
						},
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 405487223567549,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						},
						{
							"callFunction": "NextTurn",
							"sid": 368845662661567
						}
					],
					"sid": 559265134947352
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "Skill_ManaBlastParticle",
							"sid": 515741252274117
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_ManaBlastParticle",
							"sid": 797712771908035
						}
					],
					"sid": 719983813804375
				}
			],
			"sid": 723175516349234
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Shield",
			"description": "Provides temporary hp on top of normal hp\nShield loses 1hp each turn it doesn't take damage",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "Functional code is in DamagePlayer function and at the start of Player turn in ePlayer"
				},
				{
					"functionName": "Shield",
					"functionDescription": "Activates Shield, provides temp hp that decay 1/turn if not damaged",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 336068050086495,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"id": "subtract-from-instvar",
							"objectClass": "PlayerBase",
							"sid": 536318469505655,
							"parameters": {
								"instance-variable": "mp",
								"value": "1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "PlayerBase",
							"sid": 231026886611686,
							"parameters": {
								"instance-variable": "temphp",
								"value": "6"
							}
						},
						{
							"id": "destroy",
							"objectClass": "Skill_Shield",
							"sid": 146537733155598
						},
						{
							"id": "spawn-another-object",
							"objectClass": "PlayerBase",
							"sid": 883497052595598,
							"parameters": {
								"object": "Skill_Shield",
								"layer": "\"Effects\"",
								"image-point": "\"center\""
							}
						},
						{
							"callFunction": "NextTurn",
							"sid": 288000766077825
						}
					],
					"sid": 781985184476647
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Skill_Shield",
							"sid": 635204071669441,
							"parameters": {
								"animation": "\"flash\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "Skill_Shield",
							"sid": 893898519087067,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						}
					],
					"sid": 527889510268714
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "PlayerBase",
							"sid": 890855368318530,
							"parameters": {
								"instance-variable": "temphp",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_Shield",
							"sid": 358264469210031
						}
					],
					"sid": 714298022515070
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 584748969184914
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "Skill_Shield",
							"sid": 655901029439832,
							"parameters": {
								"x": "PlayerMask.X",
								"y": "PlayerMask.Y"
							}
						}
					],
					"sid": 938077105217020
				}
			],
			"sid": 342181691939202
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "KnightLeap",
			"description": "Move like a chess Knight, even through enemies and obstacles",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "KnightLeapSelect",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "Targeting itself is dealt with in Player event sheet, under End Touch"
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 155640234476982,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"skilltarget\""
							}
						}
					],
					"sid": 946092386691306,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 499141548363580,
									"parameters": {
										"name": "\"LeapTiles\"",
										"start-index": "0",
										"end-index": "7"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "PlayerBase",
									"sid": 659902444031731,
									"parameters": {
										"object": "Skill_KnightLeap",
										"layer": "\"Effects\"",
										"image-point": "0"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "Skill_KnightLeap",
									"sid": 935857035394068,
									"parameters": {
										"frame-number": "loopindex"
									}
								}
							],
							"sid": 426347952995446,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_KnightLeap",
											"sid": 108523254035340,
											"parameters": {
												"object": "Collisions"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_KnightLeap",
											"sid": 474987734776875,
											"parameters": {
												"object": "NPCBases"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Skill_KnightLeap",
											"sid": 931798701246880,
											"parameters": {
												"object": "EnemyBases"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Skill_KnightLeap",
											"sid": 984639596419826
										}
									],
									"sid": 648963261678981,
									"isOrBlock": true
								}
							]
						}
					]
				},
				{
					"functionName": "KnightLeapUse",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 833719130338603,
							"parameters": {
								"animation": "\"knightleap\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "Skill_KnightLeap",
							"sid": 951298716527197,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 694981163820638,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Skill_KnightLeap",
									"sid": 979511754514991,
									"parameters": {
										"object": "Cursor"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Skill_KnightLeap",
									"sid": 983152185266769
								}
							],
							"sid": 227877456422937
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 988095539173506,
							"parameters": {
								"variable": "TouchMode",
								"comparison": 0,
								"value": "\"default\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Skill_KnightLeap",
							"sid": 411665320871017
						}
					],
					"sid": 350121831123624
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "PlayerMask",
							"sid": 264487949446420,
							"parameters": {
								"animation": "\"knightleap\""
							}
						}
					],
					"actions": [
						{
							"id": "set-opacity",
							"objectClass": "PlayerMask",
							"sid": 149165665621421,
							"parameters": {
								"opacity": "50+25*(abs(3-Self.AnimationFrame))"
							}
						}
					],
					"sid": 875560588479639,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-animation-frame",
									"objectClass": "PlayerMask",
									"sid": 322415182194711,
									"parameters": {
										"comparison": 0,
										"number": "3"
									}
								},
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 539475116704207
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "PlayerBase",
									"sid": 522613734412643,
									"parameters": {
										"x": "Skill_KnightLeap.ImagePointX(\"position\")",
										"y": "Skill_KnightLeap.ImagePointY(\"position\")"
									}
								},
								{
									"id": "subtract-from-instvar",
									"objectClass": "PlayerBase",
									"sid": 127149148939905,
									"parameters": {
										"instance-variable": "mp",
										"value": "1"
									}
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 375684340926898,
									"parameters": {
										"audio-file": "walk_sound_test",
										"loop": "not-looping",
										"volume": "0",
										"tag-optional": "\"\""
									}
								}
							],
							"sid": 558921720013144
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "PlayerMask",
							"sid": 822005657025685,
							"parameters": {
								"animation": "\"knightleap\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "PlayerMask",
							"sid": 879130947542657,
							"parameters": {
								"animation": "\"idle\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 136841196272694,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 752666489140172,
							"parameters": {
								"variable": "TouchMode",
								"value": "\"default\""
							}
						},
						{
							"id": "set-position",
							"objectClass": "Cursor",
							"sid": 153147797124177,
							"parameters": {
								"x": "-100",
								"y": "-100"
							}
						},
						{
							"callFunction": "NextTurn",
							"sid": 144442783559312
						}
					],
					"sid": 258357901009846
				}
			],
			"sid": 430727564660008
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "ManaCharge",
			"description": "Passive: Killing an enemy gives 1 charge, at 3 charges automatically restores 1 mp",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "ManaChargeTap",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "SkillButtons",
							"sid": 452057366468409,
							"parameters": {
								"instance-variable": "Active",
								"value": "false"
							}
						}
					],
					"sid": 250700965442495
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_SkillButton",
							"sid": 800582197814999,
							"parameters": {
								"instance-variable": "CurrentSkill",
								"comparison": 0,
								"value": "\"manacharge\""
							}
						}
					],
					"actions": [],
					"sid": 476781313399730,
					"children": [
						{
							"eventType": "variable",
							"name": "MCKilled",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 120514077906214
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-animation-frame",
									"objectClass": "UI_SkillButton",
									"sid": 987754074244847,
									"parameters": {
										"comparison": 0,
										"number": "3"
									}
								}
							],
							"actions": [],
							"sid": 820088253377091,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "PlayerBase",
											"sid": 394863320878455,
											"parameters": {
												"instance-variable": "mp",
												"comparison": 2,
												"value": "PlayerBase.maxmp"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "UI_SkillButton",
											"sid": 737451057150652,
											"parameters": {
												"instance-variable": "Value",
												"value": "0"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "PlayerBase",
											"sid": 541610254462740,
											"parameters": {
												"instance-variable": "mp",
												"value": "1"
											}
										}
									],
									"sid": 462533167985952
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 473645918406823
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 185284927121372,
									"parameters": {
										"variable": "EnemiesKilled",
										"comparison": 4,
										"value": "MCKilled"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 940212968105216,
									"parameters": {
										"instance-variable": "Value",
										"value": "Self.Value+1"
									}
								}
							],
							"sid": 743656120071461
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation-frame",
									"objectClass": "UI_SkillButton",
									"sid": 122207460194079,
									"parameters": {
										"frame-number": "Self.Value"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 309554583984018,
									"parameters": {
										"variable": "MCKilled",
										"value": "EnemiesKilled"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 129257376521511,
									"parameters": {
										"x": "2",
										"y": "UI_SkillButton.SkillSlot",
										"value": "UI_SkillButton.Value"
									}
								}
							],
							"sid": 660684928685806
						}
					]
				}
			],
			"sid": 269141221900130
		},
		{
			"functionName": "SkillMissing",
			"functionDescription": "Default mapped skill, for error checking",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "append-text",
					"objectClass": "TXTerrors",
					"sid": 115498143345347,
					"parameters": {
						"text": "\" sk\""
					}
				},
				{
					"id": "set-boolean-instvar",
					"objectClass": "SkillButtons",
					"sid": 564886017617131,
					"parameters": {
						"instance-variable": "Active",
						"value": "false"
					}
				}
			],
			"sid": 701572271772531
		},
		{
			"functionName": "ChangeSkill",
			"functionDescription": "Changes current skill",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "Slot",
					"type": "number",
					"initialValue": "1",
					"comment": "Slot to put skill into, 1-4",
					"sid": 182936803168275
				},
				{
					"name": "newSkill",
					"type": "string",
					"initialValue": "",
					"comment": "Code name for new skill to swap to",
					"sid": 829445380719001
				}
			],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 930694672473764,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "UI_SkillButton",
							"sid": 747695114364830,
							"parameters": {
								"instance-variable": "SkillSlot",
								"comparison": 0,
								"value": "Slot"
							}
						}
					],
					"actions": [],
					"sid": 188051178254949,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 623694154353971,
									"parameters": {
										"instance-variable": "CurrentSkill",
										"comparison": 1,
										"value": "\"empty\""
									}
								}
							],
							"actions": [],
							"sid": 620795408730265,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "SkillPickup",
											"sid": 890793985378181,
											"parameters": {
												"instance-variable": "Selected"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "SkillPickup",
											"sid": 290306632775498,
											"parameters": {
												"instance-variable": "Selected",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "SkillPickup",
											"sid": 357733679501836,
											"parameters": {
												"instance-variable": "CurrentSkill",
												"value": "UI_SkillButton.CurrentSkill"
											}
										}
									],
									"sid": 508122306370302
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 648003012472935,
									"parameters": {
										"instance-variable": "CurrentSkill",
										"value": "newSkill"
									}
								}
							],
							"sid": 222292699648666
						},
						{
							"eventType": "comment",
							"text": "Find corresponding row of Skills array, set MPCost and Value"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "Skills",
									"sid": 528430056869381,
									"parameters": {
										"axes": "xy"
									}
								},
								{
									"id": "compare-current-value",
									"objectClass": "Skills",
									"sid": 404666233258321,
									"parameters": {
										"comparison": 0,
										"value": "newSkill"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 292290247860940,
									"parameters": {
										"instance-variable": "MPCost",
										"value": "Skills.At(1,Skills.CurY)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "UI_SkillButton",
									"sid": 627197098714423,
									"parameters": {
										"instance-variable": "Value",
										"value": "Skills.At(2,Skills.CurY)"
									}
								}
							],
							"sid": 677294960446290
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "UI_SkillButton",
									"sid": 598407093469573,
									"parameters": {
										"animation": "Self.CurrentSkill",
										"from": "beginning"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 617392935566912,
									"parameters": {
										"x": "0",
										"y": "Slot",
										"value": "UI_SkillButton.CurrentSkill"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 778996197949842,
									"parameters": {
										"x": "1",
										"y": "Slot",
										"value": "UI_SkillButton.MPCost"
									}
								},
								{
									"id": "set-at-xy",
									"objectClass": "Skills",
									"sid": 900601055212256,
									"parameters": {
										"x": "2",
										"y": "Slot",
										"value": "UI_SkillButton.Value"
									}
								}
							],
							"sid": 391920378739531
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "TXTmpcost",
									"sid": 361543781273526,
									"parameters": {
										"instance-variable": "SkillSlot",
										"comparison": 0,
										"value": "Slot"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "TXTmpcost",
									"sid": 838524528449196
								}
							],
							"sid": 593293498507573
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 261639698872011,
									"parameters": {
										"instance-variable": "MPCost",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "UI_SkillButton",
									"sid": 657735232065888,
									"parameters": {
										"object": "TXTmpcost",
										"layer": "\"UI\"",
										"image-point": "\"mpcost\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "TXTmpcost",
									"sid": 555463887453584,
									"parameters": {
										"text": "UI_SkillButton.MPCost"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "TXTmpcost",
									"sid": 643847283202551,
									"parameters": {
										"instance-variable": "SkillSlot",
										"value": "UI_SkillButton.SkillSlot"
									}
								}
							],
							"sid": 417652840230494
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "SkillPickup",
									"sid": 862881422412064,
									"parameters": {
										"instance-variable": "Selected"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "SkillPickup",
									"sid": 649677851563603
								}
							],
							"sid": 994070438043821
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 107107877045935,
									"parameters": {
										"variable": "TouchMode",
										"value": "\"default\""
									}
								}
							],
							"sid": 347022078336635
						}
					]
				}
			]
		},
		{
			"functionName": "SetSkills",
			"functionDescription": "Loads skills from array",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"type": "comment",
					"text": "Loads skills from array"
				},
				{
					"type": "comment",
					"text": "Skills array Y values 1-4 correspond to current skills"
				},
				{
					"id": "append-text",
					"objectClass": "TXTerrors",
					"sid": 472893555515576,
					"parameters": {
						"text": "\" ss\""
					}
				},
				{
					"id": "destroy",
					"objectClass": "TXTmpcost",
					"sid": 273661268774038
				}
			],
			"sid": 154925955969278,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each-ordered",
							"objectClass": "System",
							"sid": 244924782986430,
							"parameters": {
								"object": "UI_SkillButton",
								"expression": "UI_SkillButton.SkillSlot",
								"order": "ascending"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "UI_SkillButton",
							"sid": 496324622141329,
							"parameters": {
								"instance-variable": "CurrentSkill",
								"value": "Skills.At(0,Self.SkillSlot)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "UI_SkillButton",
							"sid": 103007118833742,
							"parameters": {
								"instance-variable": "MPCost",
								"value": "Skills.At(1,Self.SkillSlot)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "UI_SkillButton",
							"sid": 113457104694974,
							"parameters": {
								"instance-variable": "Value",
								"value": "Skills.At(2,Self.SkillSlot)"
							}
						}
					],
					"sid": 659621387482973,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "UI_SkillButton",
									"sid": 877306624180939,
									"parameters": {
										"instance-variable": "MPCost",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "spawn-another-object",
									"objectClass": "UI_SkillButton",
									"sid": 155635875668106,
									"parameters": {
										"object": "TXTmpcost",
										"layer": "\"UI\"",
										"image-point": "\"mpcost\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "TXTmpcost",
									"sid": 296419063292130,
									"parameters": {
										"text": "UI_SkillButton.MPCost"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "TXTmpcost",
									"sid": 445322386618897,
									"parameters": {
										"instance-variable": "SkillSlot",
										"value": "UI_SkillButton.SkillSlot"
									}
								}
							],
							"sid": 702420791471796
						}
					]
				}
			]
		}
	],
	"sid": 981738453536028
}